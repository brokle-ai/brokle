definitions:
  admin.RevokeTokenRequest:
    description: Request to revoke a specific access token
    properties:
      jti:
        example: 01K4FHGHT3XX9WFM293QPZ5G9V
        type: string
      reason:
        example: security_incident
        maxLength: 100
        type: string
    required:
    - jti
    - reason
    type: object
  admin.RevokeUserTokensRequest:
    description: Request to revoke all access tokens for a user
    properties:
      reason:
        example: account_compromise
        maxLength: 100
        type: string
    required:
    - reason
    type: object
  analytics.AnalyticsOverview:
    properties:
      avg_latency_ms:
        example: 850.5
        type: number
      cost_today:
        example: 54.2
        type: number
      period:
        example: 30d
        type: string
      requests_today:
        example: 5420
        type: integer
      success_rate:
        example: 0.987
        type: number
      top_model:
        example: gpt-4
        type: string
      top_provider:
        example: openai
        type: string
      total_cost:
        example: 1250.75
        type: number
      total_requests:
        example: 125000
        type: integer
      total_tokens:
        example: 2500000
        type: integer
    type: object
  analytics.AvailableModel:
    properties:
      credential_id:
        description: credential ID when multiple configs exist
        type: string
      credential_name:
        description: credential name for display
        type: string
      id:
        description: model_name or custom model ID
        type: string
      is_custom:
        description: true for user-defined custom models
        type: boolean
      name:
        description: display_name for UI
        type: string
      provider:
        description: provider type (openai, anthropic, etc.)
        type: string
    type: object
  analytics.BudgetStatus:
    properties:
      budget:
        example: 1000
        type: number
      percent:
        example: 0.75
        type: number
      projected:
        example: 950.3
        type: number
      remaining:
        example: 249.75
        type: number
      spent:
        example: 750.25
        type: number
      status:
        example: on_track
        type: string
    type: object
  analytics.CostAnalytics:
    properties:
      budget_status:
        $ref: '#/definitions/analytics.BudgetStatus'
      cost_by_model:
        items:
          $ref: '#/definitions/analytics.ModelCostAnalytics'
        type: array
      cost_by_provider:
        items:
          $ref: '#/definitions/analytics.ProviderCostAnalytics'
        type: array
      cost_trend:
        items:
          $ref: '#/definitions/analytics.TimeSeriesDataPoint'
        type: array
      optimizations:
        items:
          $ref: '#/definitions/analytics.CostOptimizationSuggestion'
        type: array
      time_range:
        example: 30d
        type: string
      total_cost:
        example: 1250.75
        type: number
    type: object
  analytics.CostOptimizationSuggestion:
    properties:
      description:
        example: Switch from gpt-4 to gpt-3.5-turbo for 70% of requests
        type: string
      impact:
        example: low
        type: string
      potential_savings:
        example: 125.5
        type: number
      type:
        example: model_switch
        type: string
    type: object
  analytics.HourlyAnalytics:
    properties:
      cost:
        example: 54.2
        type: number
      hour:
        example: 14
        type: integer
      requests:
        example: 5420
        type: integer
    type: object
  analytics.ModelAnalytics:
    properties:
      avg_latency_ms:
        example: 850.5
        type: number
      cost:
        example: 250
        type: number
      model:
        example: gpt-4
        type: string
      provider:
        example: openai
        type: string
      quality_score:
        example: 0.92
        type: number
      requests:
        example: 25000
        type: integer
      success_rate:
        example: 0.987
        type: number
      tokens:
        example: 500000
        type: integer
    type: object
  analytics.ModelCostAnalytics:
    properties:
      cost:
        example: 250
        type: number
      cost_per_token:
        example: 0.0005
        type: number
      model:
        example: gpt-4
        type: string
      percent:
        example: 0.2
        type: number
      provider:
        example: openai
        type: string
    type: object
  analytics.ProviderAnalytics:
    properties:
      avg_latency_ms:
        example: 750.2
        type: number
      cost:
        example: 450
        type: number
      health_score:
        example: 0.98
        type: number
      provider:
        example: openai
        type: string
      requests:
        example: 45000
        type: integer
      success_rate:
        example: 0.995
        type: number
      tokens:
        example: 900000
        type: integer
    type: object
  analytics.ProviderCostAnalytics:
    properties:
      cost:
        example: 450
        type: number
      percent:
        example: 0.36
        type: number
      provider:
        example: openai
        type: string
      trend:
        example: increasing
        type: string
    type: object
  analytics.RequestAnalytics:
    properties:
      by_model:
        items:
          $ref: '#/definitions/analytics.ModelAnalytics'
        type: array
      by_provider:
        items:
          $ref: '#/definitions/analytics.ProviderAnalytics'
        type: array
      by_status:
        items:
          $ref: '#/definitions/analytics.StatusAnalytics'
        type: array
      hourly_pattern:
        items:
          $ref: '#/definitions/analytics.HourlyAnalytics'
        type: array
      request_counts:
        items:
          $ref: '#/definitions/analytics.TimeSeriesDataPoint'
        type: array
      time_range:
        example: 30d
        type: string
    type: object
  analytics.StatusAnalytics:
    properties:
      percent:
        example: 0.96
        type: number
      requests:
        example: 120000
        type: integer
      status:
        example: success
        type: string
    type: object
  analytics.TimeSeriesDataPoint:
    properties:
      label:
        example: "2024-01-01"
        type: string
      timestamp:
        example: "2024-01-01T00:00:00Z"
        type: string
      value:
        example: 1250.5
        type: number
    type: object
  apikey.APIKey:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      created_by:
        example: usr_01234567890123456789012345
        type: string
      expires_at:
        example: "2024-12-31T23:59:59Z"
        type: string
      id:
        example: key_01234567890123456789012345
        type: string
      key:
        example: bk_AbCdEfGhIjKlMnOpQrStUvWxYz0123456789AbCd
        type: string
      key_preview:
        example: bk_AbCd...AbCd
        type: string
      last_used:
        example: "2024-01-01T00:00:00Z"
        type: string
      name:
        example: Production API Key
        type: string
      project_id:
        example: proj_01234567890123456789012345
        type: string
      status:
        example: active
        type: string
    type: object
  apikey.CreateAPIKeyRequest:
    properties:
      expiry_option:
        enum:
        - 30days
        - 90days
        - never
        example: 90days
        type: string
      name:
        example: Production API Key
        maxLength: 100
        minLength: 2
        type: string
    required:
    - expiry_option
    - name
    type: object
  auth.ChangePasswordRequest:
    description: Password change information
    properties:
      current_password:
        example: currentpass123
        type: string
      new_password:
        example: newpass123
        minLength: 8
        type: string
    required:
    - current_password
    - new_password
    type: object
  auth.CompleteOAuthSignupRequest:
    description: Complete OAuth signup with additional user information
    properties:
      organization_name:
        example: Acme Corp
        type: string
      referral_source:
        example: search
        type: string
      role:
        example: engineer
        type: string
      session_id:
        example: 01HX...
        type: string
    required:
    - role
    - session_id
    type: object
  auth.ForgotPasswordRequest:
    description: Email for password reset
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  auth.RegisterRequest:
    description: User registration information
    properties:
      email:
        example: user@example.com
        type: string
      first_name:
        example: John
        maxLength: 100
        minLength: 1
        type: string
      invitation_token:
        example: 01HX...
        type: string
      last_name:
        example: Doe
        maxLength: 100
        minLength: 1
        type: string
      organization_name:
        example: Acme Corp
        type: string
      password:
        example: password123
        minLength: 8
        type: string
      referral_source:
        example: search
        type: string
      role:
        enum:
        - engineer
        - product
        - designer
        - executive
        - other
        example: engineer
        type: string
    required:
    - email
    - first_name
    - last_name
    - password
    - role
    type: object
  auth.ResetPasswordRequest:
    description: Reset password with token
    properties:
      new_password:
        example: newpassword123
        minLength: 8
        type: string
      token:
        example: reset_token_123
        type: string
    required:
    - new_password
    - token
    type: object
  auth.RevokeAllSessionsRequest:
    type: object
  billing.BillingAlert:
    properties:
      current_value:
        example: 750.25
        type: number
      id:
        example: alert_1234567890
        type: string
      message:
        example: Monthly cost has reached 80% of limit
        type: string
      severity:
        example: warning
        type: string
      status:
        example: active
        type: string
      threshold:
        example: 800
        type: number
      triggered_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      type:
        example: cost_threshold
        type: string
    type: object
  billing.BillingPeriod:
    properties:
      end_date:
        example: "2024-01-31T23:59:59Z"
        type: string
      start_date:
        example: "2024-01-01T00:00:00Z"
        type: string
      status:
        example: current
        type: string
    type: object
  billing.DailyUsage:
    properties:
      cost:
        example: 42.15
        type: number
      date:
        example: "2024-01-15T00:00:00Z"
        type: string
      requests:
        example: 4200
        type: integer
      tokens:
        example: 84000
        type: integer
    type: object
  billing.Discount:
    properties:
      id:
        example: discount_1234567890
        type: string
      name:
        example: New Customer 20% Off
        type: string
      type:
        example: percentage
        type: string
      valid_until:
        example: "2024-06-01T00:00:00Z"
        type: string
      value:
        example: 20
        type: number
    type: object
  billing.EnvironmentUsage:
    properties:
      cost:
        example: 1000.5
        type: number
      environment:
        example: production
        type: string
      percent:
        example: 0.8
        type: number
      requests:
        example: 100000
        type: integer
      tokens:
        example: 2000000
        type: integer
    type: object
  billing.ProjectUsage:
    properties:
      cost:
        example: 450.25
        type: number
      percent:
        example: 0.36
        type: number
      project_id:
        example: proj_1234567890
        type: string
      project_name:
        example: AI Chatbot
        type: string
      requests:
        example: 45000
        type: integer
      tokens:
        example: 900000
        type: integer
    type: object
  billing.ProviderUsage:
    properties:
      cost:
        example: 750.5
        type: number
      percent:
        example: 0.6
        type: number
      provider:
        example: openai
        type: string
      requests:
        example: 75000
        type: integer
      tokens:
        example: 1500000
        type: integer
    type: object
  billing.QuotaLimits:
    properties:
      cost_limit:
        example: 1000
        type: number
      cost_percent:
        example: 0.75
        type: number
      cost_used:
        example: 750.25
        type: number
      overage_allowed:
        example: true
        type: boolean
      requests_limit:
        example: 100000
        type: integer
      requests_percent:
        example: 0.75
        type: number
      requests_used:
        example: 75000
        type: integer
      tokens_limit:
        example: 2000000
        type: integer
      tokens_percent:
        example: 0.75
        type: number
      tokens_used:
        example: 1500000
        type: integer
    type: object
  billing.Subscription:
    properties:
      add_ons:
        items:
          $ref: '#/definitions/billing.SubscriptionAddOn'
        type: array
      cancel_at:
        example: "2024-12-31T23:59:59Z"
        type: string
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      current_period:
        $ref: '#/definitions/billing.BillingPeriod'
      discounts:
        items:
          $ref: '#/definitions/billing.Discount'
        type: array
      id:
        example: sub_1234567890
        type: string
      next_billing_date:
        example: "2024-02-01T00:00:00Z"
        type: string
      organization_id:
        example: org_1234567890
        type: string
      payment_method:
        $ref: '#/definitions/internal_transport_http_handlers_billing.PaymentMethod'
      plan:
        $ref: '#/definitions/billing.SubscriptionPlan'
      status:
        example: active
        type: string
      updated_at:
        example: "2024-01-15T10:30:00Z"
        type: string
    type: object
  billing.SubscriptionAddOn:
    properties:
      id:
        example: addon_extra_requests
        type: string
      name:
        example: Extra Requests
        type: string
      price:
        example: 10
        type: number
      quantity:
        example: 2
        type: integer
    type: object
  billing.SubscriptionPlan:
    properties:
      currency:
        example: USD
        type: string
      features_included:
        example:
        - '["advanced_analytics"'
        - ' "quality_scoring"]'
        items:
          type: string
        type: array
      id:
        example: plan_pro
        type: string
      interval:
        example: month
        type: string
      name:
        example: Pro Plan
        type: string
      price:
        example: 29
        type: number
      requests_limit:
        example: 100000
        type: integer
    type: object
  billing.UpdateSubscriptionRequest:
    properties:
      add_ons:
        items:
          $ref: '#/definitions/billing.SubscriptionAddOn'
        type: array
      cancel_at:
        example: "2024-12-31T23:59:59Z"
        type: string
      payment_method_id:
        example: pm_0987654321
        type: string
      plan_id:
        example: plan_business
        type: string
    type: object
  billing.UsageMetrics:
    properties:
      billing_alerts:
        items:
          $ref: '#/definitions/billing.BillingAlert'
        type: array
      billing_period:
        $ref: '#/definitions/billing.BillingPeriod'
      daily_usage:
        items:
          $ref: '#/definitions/billing.DailyUsage'
        type: array
      organization_id:
        example: org_1234567890
        type: string
      quota_limits:
        $ref: '#/definitions/billing.QuotaLimits'
      total_cost:
        example: 1250.75
        type: number
      total_requests:
        example: 125000
        type: integer
      total_tokens:
        example: 2500000
        type: integer
      usage_by_environment:
        items:
          $ref: '#/definitions/billing.EnvironmentUsage'
        type: array
      usage_by_project:
        items:
          $ref: '#/definitions/billing.ProjectUsage'
        type: array
      usage_by_provider:
        items:
          $ref: '#/definitions/billing.ProviderUsage'
        type: array
    type: object
  credentials.CreateRequest:
    properties:
      adapter:
        enum:
        - openai
        - anthropic
        - azure
        - gemini
        - openrouter
        - custom
        type: string
      api_key:
        minLength: 10
        type: string
      base_url:
        type: string
      config:
        additionalProperties: {}
        type: object
      custom_models:
        items:
          type: string
        type: array
      headers:
        additionalProperties:
          type: string
        type: object
      name:
        maxLength: 100
        minLength: 1
        type: string
    required:
    - adapter
    - api_key
    - name
    type: object
  credentials.Provider:
    enum:
    - openai
    - anthropic
    - azure
    - gemini
    - openrouter
    - custom
    type: string
    x-enum-varnames:
    - ProviderOpenAI
    - ProviderAnthropic
    - ProviderAzure
    - ProviderGemini
    - ProviderOpenRouter
    - ProviderCustom
  credentials.ProviderCredentialResponse:
    properties:
      adapter:
        allOf:
        - $ref: '#/definitions/credentials.Provider'
        description: API protocol/provider type
      base_url:
        type: string
      config:
        additionalProperties: {}
        description: Provider-specific config
        type: object
      created_at:
        type: string
      custom_models:
        description: User-defined models
        items:
          type: string
        type: array
      headers:
        additionalProperties:
          type: string
        description: Custom headers (decrypted for editing)
        type: object
      id:
        $ref: '#/definitions/ulid.ULID'
      key_preview:
        description: 'Masked: "sk-***abcd"'
        type: string
      name:
        description: Unique configuration name
        type: string
      project_id:
        $ref: '#/definitions/ulid.ULID'
      updated_at:
        type: string
    type: object
  credentials.TestConnectionResponse:
    properties:
      error:
        type: string
      success:
        type: boolean
    type: object
  credentials.UpdateRequest:
    properties:
      api_key:
        minLength: 10
        type: string
      base_url:
        type: string
      config:
        additionalProperties: {}
        type: object
      custom_models:
        items:
          type: string
        type: array
      headers:
        additionalProperties:
          type: string
        description: Pointer allows clearing with empty map
        type: object
      name:
        maxLength: 100
        minLength: 1
        type: string
    type: object
  evaluation.BatchScoreRequest:
    description: Batch score creation request
    properties:
      scores:
        items:
          $ref: '#/definitions/evaluation.CreateScoreRequest'
        type: array
    required:
    - scores
    type: object
  evaluation.BatchScoreResponse:
    description: Batch score creation response
    properties:
      created:
        type: integer
    type: object
  evaluation.CreateDatasetItemRequest:
    properties:
      expected:
        additionalProperties: true
        type: object
      input:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
    required:
    - input
    type: object
  evaluation.CreateDatasetItemsBatchRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/evaluation.CreateDatasetItemRequest'
        type: array
    required:
    - items
    type: object
  evaluation.CreateDatasetRequest:
    properties:
      description:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
    required:
    - name
    type: object
  evaluation.CreateExperimentItemRequest:
    properties:
      dataset_item_id:
        type: string
      expected:
        additionalProperties: true
        type: object
      input:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
      output:
        additionalProperties: true
        type: object
      trace_id:
        type: string
      trial_number:
        type: integer
    required:
    - input
    type: object
  evaluation.CreateExperimentItemsBatchRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/evaluation.CreateExperimentItemRequest'
        type: array
    required:
    - items
    type: object
  evaluation.CreateExperimentRequest:
    properties:
      dataset_id:
        type: string
      description:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
    required:
    - name
    type: object
  evaluation.CreateRequest:
    description: Score config creation request
    properties:
      categories:
        items:
          type: string
        type: array
      data_type:
        allOf:
        - $ref: '#/definitions/internal_transport_http_handlers_evaluation.ScoreDataType'
        enum:
        - NUMERIC
        - CATEGORICAL
        - BOOLEAN
      description:
        type: string
      max_value:
        type: number
      metadata:
        additionalProperties: true
        type: object
      min_value:
        type: number
      name:
        maxLength: 100
        minLength: 1
        type: string
    required:
    - data_type
    - name
    type: object
  evaluation.CreateScoreRequest:
    description: SDK score creation request
    properties:
      data_type:
        enum:
        - NUMERIC
        - CATEGORICAL
        - BOOLEAN
        type: string
      experiment_id:
        type: string
      experiment_item_id:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      name:
        type: string
      reason:
        type: string
      span_id:
        type: string
      string_value:
        type: string
      trace_id:
        type: string
      value:
        type: number
    required:
    - data_type
    - name
    - trace_id
    type: object
  evaluation.DatasetItemListResponse:
    description: Paginated dataset items response
    properties:
      items:
        items:
          $ref: '#/definitions/internal_transport_http_handlers_evaluation.DatasetItemResponse'
        type: array
      total:
        type: integer
    type: object
  evaluation.DatasetResponse:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        type: string
      project_id:
        type: string
      updated_at:
        type: string
    type: object
  evaluation.ExperimentItemListResponse:
    description: Paginated experiment items response
    properties:
      items:
        items:
          $ref: '#/definitions/internal_transport_http_handlers_evaluation.ExperimentItemResponse'
        type: array
      total:
        type: integer
    type: object
  evaluation.ExperimentResponse:
    properties:
      completed_at:
        type: string
      created_at:
        type: string
      dataset_id:
        type: string
      description:
        type: string
      id:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        type: string
      project_id:
        type: string
      started_at:
        type: string
      status:
        $ref: '#/definitions/evaluation.ExperimentStatus'
      updated_at:
        type: string
    type: object
  evaluation.ExperimentStatus:
    enum:
    - pending
    - running
    - completed
    - failed
    type: string
    x-enum-varnames:
    - ExperimentStatusPending
    - ExperimentStatusRunning
    - ExperimentStatusCompleted
    - ExperimentStatusFailed
  evaluation.SDKBatchCreateExperimentItemsResponse:
    description: Batch experiment items creation response
    properties:
      created:
        type: integer
    type: object
  evaluation.SDKBatchCreateItemsResponse:
    description: Batch creation response with count
    properties:
      created:
        type: integer
    type: object
  evaluation.ScoreConfigResponse:
    properties:
      categories:
        items:
          type: string
        type: array
      created_at:
        type: string
      data_type:
        $ref: '#/definitions/internal_core_domain_evaluation.ScoreDataType'
      description:
        type: string
      id:
        type: string
      max_value:
        type: number
      metadata:
        additionalProperties: true
        type: object
      min_value:
        type: number
      name:
        type: string
      project_id:
        type: string
      updated_at:
        type: string
    type: object
  evaluation.ScoreResponse:
    description: Score data
    properties:
      data_type:
        type: string
      experiment_id:
        type: string
      experiment_item_id:
        type: string
      id:
        type: string
      metadata:
        additionalProperties: {}
        type: object
      name:
        type: string
      project_id:
        type: string
      reason:
        type: string
      source:
        type: string
      span_id:
        type: string
      string_value:
        type: string
      timestamp:
        type: string
      trace_id:
        type: string
      value:
        type: number
    type: object
  evaluation.UpdateDatasetRequest:
    properties:
      description:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
    type: object
  evaluation.UpdateExperimentRequest:
    properties:
      description:
        type: string
      metadata:
        additionalProperties: true
        type: object
      name:
        maxLength: 255
        minLength: 1
        type: string
      status:
        $ref: '#/definitions/evaluation.ExperimentStatus'
    type: object
  evaluation.UpdateRequest:
    description: Score config update request
    properties:
      categories:
        items:
          type: string
        type: array
      description:
        type: string
      max_value:
        type: number
      metadata:
        additionalProperties: true
        type: object
      min_value:
        type: number
      name:
        maxLength: 100
        minLength: 1
        type: string
    type: object
  health.HealthCheck:
    description: Individual component health check result
    properties:
      duration:
        example: 5ms
        type: string
      last_checked:
        example: "2023-12-01T10:30:00Z"
        type: string
      message:
        example: Database connection is healthy
        type: string
      status:
        example: healthy
        type: string
    type: object
  health.HealthResponse:
    description: Health check response containing service status
    properties:
      checks:
        additionalProperties:
          $ref: '#/definitions/health.HealthCheck'
        type: object
      status:
        example: healthy
        type: string
      timestamp:
        example: "2023-12-01T10:30:00Z"
        type: string
      uptime:
        example: 2h30m15s
        type: string
      version:
        example: 1.0.0
        type: string
    type: object
  internal_core_domain_evaluation.ScoreDataType:
    enum:
    - NUMERIC
    - CATEGORICAL
    - BOOLEAN
    type: string
    x-enum-varnames:
    - ScoreDataTypeNumeric
    - ScoreDataTypeCategorical
    - ScoreDataTypeBoolean
  internal_transport_http_handlers_auth.LoginRequest:
    description: User login credentials
    properties:
      device_info:
        additionalProperties: true
        type: object
      email:
        example: user@example.com
        type: string
      password:
        example: password123
        type: string
    required:
    - email
    - password
    type: object
  internal_transport_http_handlers_billing.Invoice:
    properties:
      billing_period:
        $ref: '#/definitions/billing.BillingPeriod'
      currency:
        example: USD
        type: string
      download_url:
        example: https://invoices.brokle.ai/inv_1234567890.pdf
        type: string
      due_date:
        example: "2024-02-15T23:59:59Z"
        type: string
      id:
        example: inv_1234567890
        type: string
      invoice_number:
        example: INV-2024-001
        type: string
      issue_date:
        example: "2024-02-01T00:00:00Z"
        type: string
      line_items:
        items:
          $ref: '#/definitions/internal_transport_http_handlers_billing.InvoiceLineItem'
        type: array
      organization_id:
        example: org_1234567890
        type: string
      paid_date:
        example: "2024-02-10T14:30:00Z"
        type: string
      payment_method:
        example: credit_card
        type: string
      status:
        example: paid
        type: string
      subtotal:
        example: 1250.75
        type: number
      tax_amount:
        example: 125.08
        type: number
      total:
        example: 1375.83
        type: number
    type: object
  internal_transport_http_handlers_billing.InvoiceLineItem:
    properties:
      amount:
        example: 1250
        type: number
      description:
        example: OpenAI GPT-4 Usage
        type: string
      model:
        example: gpt-4
        type: string
      provider:
        example: openai
        type: string
      quantity:
        example: 50000
        type: integer
      unit_price:
        example: 0.025
        type: number
    type: object
  internal_transport_http_handlers_billing.PaymentMethod:
    properties:
      brand:
        example: visa
        type: string
      default:
        example: true
        type: boolean
      expiry:
        example: 12/2025
        type: string
      id:
        example: pm_1234567890
        type: string
      last4:
        example: "1234"
        type: string
      type:
        example: credit_card
        type: string
    type: object
  internal_transport_http_handlers_credentials.TestConnectionRequest:
    properties:
      adapter:
        enum:
        - openai
        - anthropic
        - azure
        - gemini
        - openrouter
        - custom
        type: string
      api_key:
        type: string
      base_url:
        type: string
      config:
        additionalProperties: {}
        type: object
      headers:
        additionalProperties:
          type: string
        type: object
    required:
    - adapter
    - api_key
    type: object
  internal_transport_http_handlers_evaluation.DatasetItemResponse:
    description: Dataset item data
    properties:
      created_at:
        type: string
      dataset_id:
        type: string
      expected:
        additionalProperties: true
        type: object
      id:
        type: string
      input:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
    type: object
  internal_transport_http_handlers_evaluation.ExperimentItemResponse:
    description: Experiment item data
    properties:
      created_at:
        type: string
      dataset_item_id:
        type: string
      expected:
        additionalProperties: true
        type: object
      experiment_id:
        type: string
      id:
        type: string
      input:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
      output:
        additionalProperties: true
        type: object
      trace_id:
        type: string
      trial_number:
        type: integer
    type: object
  internal_transport_http_handlers_evaluation.ScoreDataType:
    description: Score data type (NUMERIC, CATEGORICAL, BOOLEAN)
    enum:
    - NUMERIC
    - CATEGORICAL
    - BOOLEAN
    type: string
    x-enum-varnames:
    - ScoreDataTypeNumeric
    - ScoreDataTypeCategorical
    - ScoreDataTypeBoolean
  internal_transport_http_handlers_organization.CreateOrganizationRequest:
    properties:
      description:
        example: Leading AI solutions provider
        maxLength: 500
        type: string
      name:
        example: Acme Corporation
        maxLength: 100
        minLength: 2
        type: string
    required:
    - name
    type: object
  internal_transport_http_handlers_organization.Organization:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      description:
        example: Leading AI solutions provider
        type: string
      id:
        example: org_1234567890
        type: string
      name:
        example: Acme Corporation
        type: string
      plan:
        example: pro
        type: string
      subscription_status:
        example: active
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  internal_transport_http_handlers_organization.UpdateOrganizationRequest:
    properties:
      billing_email:
        example: billing@acme.com
        type: string
      description:
        example: Leading AI solutions provider
        maxLength: 500
        type: string
      name:
        example: Acme Corporation
        maxLength: 100
        minLength: 2
        type: string
    type: object
  internal_transport_http_handlers_playground.CreateSessionRequest:
    properties:
      config:
        type: object
      description:
        type: string
      name:
        maxLength: 200
        type: string
      tags:
        items:
          type: string
        maxItems: 10
        type: array
      variables:
        type: object
      windows:
        type: object
    required:
    - name
    - windows
    type: object
  internal_transport_http_handlers_playground.ExecuteRequest:
    properties:
      config_overrides:
        $ref: '#/definitions/prompt.ModelConfig'
      project_id:
        description: 'Required: for project-scoped credentials'
        type: string
      prompt_type:
        $ref: '#/definitions/prompt.PromptType'
      session_id:
        description: 'Optional: updates session''s last_run'
        type: string
      template: {}
      variables:
        additionalProperties:
          type: string
        type: object
    required:
    - prompt_type
    - template
    type: object
  internal_transport_http_handlers_playground.StreamRequest:
    properties:
      config_overrides:
        $ref: '#/definitions/prompt.ModelConfig'
      project_id:
        description: 'Required: for project-scoped credentials'
        type: string
      prompt_type:
        $ref: '#/definitions/prompt.PromptType'
      session_id:
        description: 'Optional: updates session''s last_run'
        type: string
      template: {}
      variables:
        additionalProperties:
          type: string
        type: object
    required:
    - prompt_type
    - template
    type: object
  internal_transport_http_handlers_playground.UpdateSessionRequest:
    properties:
      config:
        type: object
      description:
        type: string
      name:
        maxLength: 200
        type: string
      tags:
        items:
          type: string
        maxItems: 10
        type: array
      variables:
        type: object
      windows:
        type: object
    type: object
  internal_transport_http_handlers_user.UpdateProfileRequest:
    description: User profile update information
    properties:
      avatar_url:
        example: https://example.com/avatar.jpg
        type: string
      first_name:
        example: John
        type: string
      language:
        example: en
        type: string
      last_name:
        example: Doe
        type: string
      phone:
        example: "+1234567890"
        type: string
      timezone:
        example: UTC
        type: string
    type: object
  logs.AIRequest:
    properties:
      api_key_id:
        example: key_1234567890
        type: string
      cost:
        example: 0.0425
        type: number
      environment_id:
        example: env_1234567890
        type: string
      error_message:
        example: Rate limit exceeded
        type: string
      id:
        example: req_1234567890
        type: string
      ip_address:
        example: 192.168.1.100
        type: string
      latency_ms:
        example: 850
        type: integer
      metadata:
        additionalProperties: true
        type: object
      method:
        example: POST
        type: string
      model:
        example: gpt-4
        type: string
      organization_id:
        example: org_1234567890
        type: string
      path:
        example: /v1/chat/completions
        type: string
      project_id:
        example: proj_1234567890
        type: string
      provider:
        example: openai
        type: string
      quality_score:
        example: 0.92
        type: number
      request_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      status:
        example: 200
        type: integer
      timestamp:
        example: "2024-01-01T00:00:00Z"
        type: string
      tokens_in:
        example: 150
        type: integer
      tokens_out:
        example: 75
        type: integer
      user_agent:
        example: MyApp/1.0
        type: string
      user_id:
        example: usr_1234567890
        type: string
    type: object
  logs.AIRequestDetail:
    properties:
      api_key_id:
        example: key_1234567890
        type: string
      cost:
        example: 0.0425
        type: number
      environment_id:
        example: env_1234567890
        type: string
      error_message:
        example: Rate limit exceeded
        type: string
      headers:
        additionalProperties:
          type: string
        type: object
      id:
        example: req_1234567890
        type: string
      ip_address:
        example: 192.168.1.100
        type: string
      latency_ms:
        example: 850
        type: integer
      metadata:
        additionalProperties: true
        type: object
      method:
        example: POST
        type: string
      model:
        example: gpt-4
        type: string
      organization_id:
        example: org_1234567890
        type: string
      path:
        example: /v1/chat/completions
        type: string
      project_id:
        example: proj_1234567890
        type: string
      provider:
        example: openai
        type: string
      quality_score:
        example: 0.92
        type: number
      request_body: {}
      request_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      response_body: {}
      status:
        example: 200
        type: integer
      timestamp:
        example: "2024-01-01T00:00:00Z"
        type: string
      tokens_in:
        example: 150
        type: integer
      tokens_out:
        example: 75
        type: integer
      trace:
        items:
          $ref: '#/definitions/logs.TraceEvent'
        type: array
      user_agent:
        example: MyApp/1.0
        type: string
      user_id:
        example: usr_1234567890
        type: string
    type: object
  logs.ExportResponse:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      download_url:
        example: https://exports.brokle.ai/export_1234567890.json
        type: string
      expected_at:
        example: "2024-01-01T00:05:00Z"
        type: string
      expires_at:
        example: "2024-01-08T00:00:00Z"
        type: string
      job_id:
        example: export_1234567890
        type: string
      status:
        example: pending
        type: string
    type: object
  logs.ListRequestsResponse:
    properties:
      has_more:
        example: true
        type: boolean
      limit:
        example: 50
        type: integer
      page:
        example: 1
        type: integer
      requests:
        items:
          $ref: '#/definitions/logs.AIRequest'
        type: array
      total:
        example: 25000
        type: integer
    type: object
  logs.TraceEvent:
    properties:
      description:
        example: Starting request to OpenAI
        type: string
      duration_ms:
        example: 25
        type: integer
      event:
        example: provider_request_start
        type: string
      metadata:
        additionalProperties: true
        type: object
      timestamp:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  observability.Event:
    properties:
      attributes:
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      droppedAttributesCount:
        description: Number of dropped attributes
        type: integer
      name:
        type: string
      timeUnixNano: {}
    type: object
  observability.KeyValue:
    properties:
      key:
        type: string
      value: {}
    type: object
  observability.Link:
    properties:
      attributes:
        description: Link metadata
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      droppedAttributesCount:
        description: Number of dropped attributes
        type: integer
      spanId:
        description: Linked span ID (Buffer or hex string)
      traceId:
        description: Linked trace ID (Buffer or hex string)
      traceState:
        description: W3C TraceState for linked span
    type: object
  observability.LogRecord:
    properties:
      attributes:
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      body: {}
      observedTimeUnixNano: {}
      severityNumber:
        type: integer
      severityText:
        type: string
      spanId: {}
      timeUnixNano: {}
      traceId: {}
    type: object
  observability.Metric:
    properties:
      data:
        description: Can be Gauge, Sum, Histogram, etc.
      description:
        type: string
      name:
        type: string
      unit:
        type: string
    type: object
  observability.OTLPLogsRequest:
    properties:
      resourceLogs:
        items:
          $ref: '#/definitions/observability.ResourceLogs'
        type: array
    type: object
  observability.OTLPMetricsRequest:
    properties:
      resourceMetrics:
        items:
          $ref: '#/definitions/observability.ResourceMetrics'
        type: array
    type: object
  observability.OTLPRequest:
    properties:
      resourceSpans:
        items:
          $ref: '#/definitions/observability.ResourceSpan'
        type: array
    type: object
  observability.OTLPSpan:
    properties:
      attributes:
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      endTimeUnixNano: {}
      events:
        items:
          $ref: '#/definitions/observability.Event'
        type: array
      kind:
        type: integer
      links:
        items:
          $ref: '#/definitions/observability.Link'
        type: array
      name:
        type: string
      parentSpanId: {}
      spanId: {}
      startTimeUnixNano: {}
      status:
        $ref: '#/definitions/observability.Status'
      traceId: {}
    type: object
  observability.Range:
    properties:
      max:
        type: number
      min:
        type: number
    type: object
  observability.Resource:
    properties:
      attributes:
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      schemaUrl:
        type: string
    type: object
  observability.ResourceLogs:
    properties:
      resource:
        $ref: '#/definitions/observability.Resource'
      scopeLogs:
        items:
          $ref: '#/definitions/observability.ScopeLogs'
        type: array
    type: object
  observability.ResourceMetrics:
    properties:
      resource:
        $ref: '#/definitions/observability.Resource'
      scopeMetrics:
        items:
          $ref: '#/definitions/observability.ScopeMetrics'
        type: array
    type: object
  observability.ResourceSpan:
    properties:
      resource:
        $ref: '#/definitions/observability.Resource'
      scopeSpans:
        items:
          $ref: '#/definitions/observability.ScopeSpan'
        type: array
    type: object
  observability.Scope:
    properties:
      attributes:
        items:
          $ref: '#/definitions/observability.KeyValue'
        type: array
      name:
        type: string
      schemaUrl:
        type: string
      version:
        type: string
    type: object
  observability.ScopeLogs:
    properties:
      logRecords:
        items:
          $ref: '#/definitions/observability.LogRecord'
        type: array
      scope:
        $ref: '#/definitions/observability.Scope'
    type: object
  observability.ScopeMetrics:
    properties:
      metrics:
        items:
          $ref: '#/definitions/observability.Metric'
        type: array
      scope:
        $ref: '#/definitions/observability.Scope'
    type: object
  observability.ScopeSpan:
    properties:
      scope:
        $ref: '#/definitions/observability.Scope'
      spans:
        items:
          $ref: '#/definitions/observability.OTLPSpan'
        type: array
    type: object
  observability.Score:
    properties:
      data_type:
        type: string
      experiment_id:
        description: Experiment tracking
        type: string
      experiment_item_id:
        type: string
      id:
        description: Identity
        type: string
      metadata:
        type: string
      name:
        description: Score data
        type: string
      project_id:
        type: string
      reason:
        description: Additional fields
        type: string
      source:
        type: string
      span_id:
        type: string
      string_value:
        type: string
      timestamp:
        description: Timestamp
        type: string
      trace_id:
        description: Links
        type: string
      value:
        type: number
    type: object
  observability.Span:
    properties:
      child_spans:
        items:
          $ref: '#/definitions/observability.Span'
        type: array
      completion_start_time:
        type: string
      cost_details:
        additionalProperties:
          type: number
        type: object
      deleted_at:
        type: string
      duration:
        description: Nanoseconds (OTLP spec)
        type: integer
      end_time:
        type: string
      events:
        items:
          $ref: '#/definitions/observability.SpanEvent'
        type: array
      has_error:
        description: Semantic flag (true when status_code=2)
        type: boolean
      input:
        type: string
      level:
        type: string
      links:
        items:
          $ref: '#/definitions/observability.SpanLink'
        type: array
      model_name:
        description: Materialized columns (db:"-" = computed by ClickHouse, not stored)
        type: string
      output:
        type: string
      parent_span_id:
        type: string
      pricing_snapshot:
        additionalProperties:
          type: number
        type: object
      project_id:
        type: string
      provider_name:
        type: string
      resource_attributes:
        additionalProperties:
          type: string
        type: object
      resource_schema_url:
        type: string
      scope_attributes:
        additionalProperties:
          type: string
        type: object
      scope_name:
        type: string
      scope_schema_url:
        type: string
      scope_version:
        type: string
      scores:
        items:
          $ref: '#/definitions/observability.Score'
        type: array
      service_name:
        type: string
      span_attributes:
        additionalProperties:
          type: string
        type: object
      span_id:
        type: string
      span_kind:
        type: integer
      span_name:
        type: string
      span_type:
        type: string
      start_time:
        type: string
      status_code:
        description: 'OTLP: 0=UNSET, 1=OK, 2=ERROR'
        type: integer
      status_message:
        type: string
      total_cost:
        type: number
      trace_id:
        type: string
      trace_state:
        type: string
      usage_details:
        additionalProperties:
          format: int64
          type: integer
        type: object
      version:
        type: string
    type: object
  observability.SpanEvent:
    properties:
      attributes:
        additionalProperties:
          type: string
        type: object
      dropped_attributes_count:
        type: integer
      name:
        type: string
      timestamp:
        type: string
    type: object
  observability.SpanLink:
    properties:
      attributes:
        additionalProperties:
          type: string
        type: object
      dropped_attributes_count:
        type: integer
      span_id:
        type: string
      trace_id:
        type: string
      trace_state:
        type: string
    type: object
  observability.Status:
    properties:
      code:
        type: integer
      message:
        type: string
    type: object
  observability.TraceFilterOptions:
    properties:
      cost_range:
        $ref: '#/definitions/observability.Range'
      duration_range:
        $ref: '#/definitions/observability.Range'
      environments:
        items:
          type: string
        type: array
      models:
        items:
          type: string
        type: array
      providers:
        items:
          type: string
        type: array
      services:
        items:
          type: string
        type: array
      sessions:
        items:
          type: string
        type: array
      token_range:
        $ref: '#/definitions/observability.Range'
      users:
        items:
          type: string
        type: array
    type: object
  observability.TraceSummary:
    properties:
      duration:
        description: Nullable for in-flight traces (nanoseconds)
        type: integer
      end_time:
        description: Nullable for in-flight traces
        type: string
      error_span_count:
        type: integer
      has_error:
        type: boolean
      input_tokens:
        type: integer
      model_name:
        type: string
      name:
        description: Root span's span_name
        type: string
      output_tokens:
        type: integer
      project_id:
        type: string
      provider_name:
        type: string
      root_span_id:
        type: string
      service_name:
        type: string
      session_id:
        type: string
      span_count:
        type: integer
      start_time:
        type: string
      status_code:
        description: Root span's status code
        type: integer
      total_cost:
        type: number
      total_tokens:
        type: integer
      trace_id:
        type: string
      user_id:
        type: string
    type: object
  organization.BulkSettingsRequest:
    properties:
      settings:
        type: object
    required:
    - settings
    type: object
  organization.CreateSettingRequest:
    properties:
      key:
        example: theme_color
        maxLength: 255
        minLength: 1
        type: string
      value:
        type: object
    required:
    - key
    - value
    type: object
  organization.InvitationDetailsResponse:
    properties:
      email:
        example: user@example.com
        type: string
      expires_at:
        type: string
      inviter_name:
        example: John
        type: string
      is_expired:
        type: boolean
      organization_id:
        example: 01HX...
        type: string
      organization_name:
        example: Acme Corp
        type: string
      role:
        example: developer
        type: string
    type: object
  organization.InviteMemberRequest:
    properties:
      email:
        example: john@acme.com
        type: string
      orgID:
        example: 01FXYZ123456789ABCDEFGHIJK0
        type: string
      role:
        enum:
        - admin
        - developer
        - viewer
        example: developer
        type: string
    required:
    - email
    - orgID
    - role
    type: object
  organization.OrganizationMember:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      email:
        example: john@acme.com
        type: string
      first_name:
        example: John
        type: string
      invited_by:
        example: john@inviter.com
        type: string
      joined_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      last_name:
        example: Doe
        type: string
      role:
        example: admin
        type: string
      status:
        example: active
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      user_id:
        example: usr_1234567890
        type: string
    type: object
  organization.OrganizationSetting:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      id:
        example: set_1234567890
        type: string
      key:
        example: theme_color
        type: string
      organization_id:
        example: org_1234567890
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      value:
        type: object
    type: object
  organization.SettingsListResponse:
    properties:
      settings:
        type: object
    type: object
  organization.UpdateSettingRequest:
    properties:
      value:
        type: object
    required:
    - value
    type: object
  playground.ExecuteResponse:
    properties:
      compiled_prompt: {}
      error:
        type: string
      latency_ms:
        type: integer
      response:
        $ref: '#/definitions/prompt.LLMResponse'
    type: object
  playground.SessionResponse:
    properties:
      config:
        type: object
      created_at:
        type: string
      description:
        type: string
      id:
        $ref: '#/definitions/ulid.ULID'
      last_run:
        type: object
      last_used_at:
        type: string
      name:
        type: string
      project_id:
        $ref: '#/definitions/ulid.ULID'
      tags:
        items:
          type: string
        type: array
      updated_at:
        type: string
      variables:
        type: object
      windows:
        type: object
    type: object
  playground.SessionSummary:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        $ref: '#/definitions/ulid.ULID'
      last_used_at:
        type: string
      name:
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  project.CreateProjectRequest:
    properties:
      description:
        example: Customer support AI chatbot
        maxLength: 500
        type: string
      name:
        example: AI Chatbot
        maxLength: 100
        minLength: 2
        type: string
      organization_id:
        example: org_1234567890
        type: string
    required:
    - name
    - organization_id
    type: object
  project.Project:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      description:
        example: Customer support AI chatbot
        type: string
      id:
        example: proj_1234567890
        type: string
      name:
        example: AI Chatbot
        type: string
      organization_id:
        example: org_1234567890
        type: string
      status:
        example: active
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  project.UpdateProjectRequest:
    properties:
      description:
        example: Customer support AI chatbot
        maxLength: 500
        type: string
      name:
        example: AI Chatbot
        maxLength: 100
        minLength: 2
        type: string
    type: object
  prompt.CreatePromptRequest:
    properties:
      commit_message:
        type: string
      description:
        type: string
      labels:
        items:
          type: string
        type: array
      name:
        maxLength: 100
        minLength: 1
        type: string
      tags:
        items:
          type: string
        type: array
      template: {}
      type:
        $ref: '#/definitions/prompt.PromptType'
    required:
    - name
    - template
    type: object
  prompt.CreateVersionRequest:
    properties:
      commit_message:
        type: string
      labels:
        items:
          type: string
        type: array
      template: {}
    required:
    - template
    type: object
  prompt.LLMResponse:
    properties:
      content:
        type: string
      cost:
        type: number
      model:
        type: string
      usage:
        $ref: '#/definitions/prompt.LLMUsage'
    type: object
  prompt.LLMUsage:
    properties:
      completion_tokens:
        type: integer
      prompt_tokens:
        type: integer
      total_tokens:
        type: integer
    type: object
  prompt.ModelConfig:
    properties:
      credential_id:
        description: Specific credential config ID (optional, falls back to adapter-based
          lookup)
        type: string
      frequency_penalty:
        type: number
      max_tokens:
        type: integer
      model:
        type: string
      presence_penalty:
        type: number
      provider:
        description: Adapter type (openai, anthropic, azure, gemini, openrouter, custom)
        type: string
      stop:
        items:
          type: string
        type: array
      temperature:
        type: number
      top_p:
        type: number
    type: object
  prompt.PromptListItem:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      labels:
        items:
          $ref: '#/definitions/prompt.PromptListLabelInfo'
        type: array
      latest_version:
        type: integer
      name:
        type: string
      tags:
        items:
          type: string
        type: array
      type:
        $ref: '#/definitions/prompt.PromptType'
      updated_at:
        type: string
    type: object
  prompt.PromptListLabelInfo:
    properties:
      name:
        type: string
      version:
        type: integer
    type: object
  prompt.PromptResponse:
    properties:
      commit_message:
        type: string
      created_at:
        type: string
      created_by:
        type: string
      description:
        type: string
      id:
        type: string
      is_fallback:
        type: boolean
      labels:
        items:
          type: string
        type: array
      name:
        type: string
      project_id:
        type: string
      tags:
        items:
          type: string
        type: array
      template: {}
      type:
        $ref: '#/definitions/prompt.PromptType'
      updated_at:
        type: string
      variables:
        items:
          type: string
        type: array
      version:
        type: integer
      version_id:
        description: ULID of the specific version (for linking)
        type: string
    type: object
  prompt.PromptType:
    enum:
    - text
    - chat
    type: string
    x-enum-varnames:
    - PromptTypeText
    - PromptTypeChat
  prompt.ProtectedLabelsRequest:
    properties:
      protected_labels:
        items:
          type: string
        type: array
    required:
    - protected_labels
    type: object
  prompt.SetLabelsRequest:
    properties:
      labels:
        items:
          type: string
        type: array
    required:
    - labels
    type: object
  prompt.UpdatePromptRequest:
    properties:
      description:
        type: string
      name:
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  prompt.UpsertPromptRequest:
    properties:
      commit_message:
        type: string
      description:
        type: string
      labels:
        items:
          type: string
        type: array
      name:
        maxLength: 100
        minLength: 1
        type: string
      tags:
        items:
          type: string
        type: array
      template: {}
      type:
        $ref: '#/definitions/prompt.PromptType'
    required:
    - name
    - template
    type: object
  prompt.UpsertResponse:
    properties:
      created_at:
        type: string
      id:
        type: string
      is_new_prompt:
        type: boolean
      labels:
        items:
          type: string
        type: array
      name:
        type: string
      type:
        $ref: '#/definitions/prompt.PromptType'
      version:
        type: integer
    type: object
  prompt.VersionDiffResponse:
    properties:
      from_version:
        type: integer
      template_from: {}
      template_to: {}
      to_version:
        type: integer
      variables_added:
        items:
          type: string
        type: array
      variables_removed:
        items:
          type: string
        type: array
    type: object
  prompt.VersionResponse:
    properties:
      commit_message:
        type: string
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: string
      labels:
        items:
          type: string
        type: array
      template: {}
      variables:
        items:
          type: string
        type: array
      version:
        type: integer
    type: object
  response.APIError:
    description: Error details for failed API requests
    properties:
      code:
        example: validation_error
        type: string
      details:
        example: Field 'email' is required
        type: string
      message:
        example: Invalid request data
        type: string
      type:
        example: validation_error
        type: string
    type: object
  response.APIResponse:
    description: Standard API response wrapper
    properties:
      data: {}
      error:
        $ref: '#/definitions/response.APIError'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        example: true
        type: boolean
    type: object
  response.ErrorResponse:
    description: Standard error response
    properties:
      error:
        $ref: '#/definitions/response.APIError'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        example: false
        type: boolean
    type: object
  response.MessageResponse:
    description: Simple message response for actions
    properties:
      message:
        example: Operation completed successfully
        type: string
    type: object
  response.Meta:
    description: Response metadata including request tracking and offset pagination
    properties:
      pagination:
        $ref: '#/definitions/response.Pagination'
      request_id:
        example: req_01h2x3y4z5
        type: string
      timestamp:
        example: "2023-12-01T10:30:00Z"
        type: string
      version:
        example: v1
        type: string
    type: object
  response.Pagination:
    description: Offset-based pagination information for list responses
    properties:
      has_next:
        example: true
        type: boolean
      has_prev:
        example: false
        type: boolean
      limit:
        example: 50
        type: integer
      page:
        example: 1
        type: integer
      total:
        example: 1234
        type: integer
      total_pages:
        example: 25
        type: integer
    type: object
  response.SuccessResponse:
    description: Standard successful response
    properties:
      data: {}
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        example: true
        type: boolean
    type: object
  ulid.ULID:
    description: ULID (Universally Unique Lexicographically Sortable Identifier)
    type: object
  user.SetDefaultOrgRequest:
    properties:
      organization_id:
        type: string
    required:
    - organization_id
    type: object
  user.UserProfileData:
    description: Extended user profile data including bio, location, and social links
    properties:
      bio:
        example: Software engineer passionate about AI
        type: string
      github_url:
        example: https://github.com/johndoe
        type: string
      language:
        example: en
        type: string
      linkedin_url:
        example: https://linkedin.com/in/johndoe
        type: string
      location:
        example: San Francisco, CA
        type: string
      theme:
        example: dark
        type: string
      timezone:
        example: UTC
        type: string
      twitter_url:
        example: https://twitter.com/johndoe
        type: string
      website:
        example: https://johndoe.com
        type: string
    type: object
  user.UserProfileResponse:
    description: Complete user profile information including basic info and extended
      profile
    properties:
      avatar_url:
        example: https://example.com/avatar.jpg
        type: string
      completeness:
        example: 85
        type: integer
      created_at:
        example: "2025-01-01T00:00:00Z"
        type: string
      default_organization_id:
        example: 01K4FHGHT3XX9WFM293QPZ5G9V
        type: string
      email:
        example: user@example.com
        type: string
      first_name:
        example: John
        type: string
      id:
        example: 01K4FHGHT3XX9WFM293QPZ5G9V
        type: string
      is_active:
        example: true
        type: boolean
      is_email_verified:
        example: true
        type: boolean
      last_login_at:
        example: "2025-01-02T10:30:00Z"
        type: string
      last_name:
        example: Doe
        type: string
      name:
        example: John Doe
        type: string
      profile:
        $ref: '#/definitions/user.UserProfileData'
    type: object
host: localhost:8080
info:
  contact:
    email: support@brokle.ai
    name: Brokle Platform Team
    url: https://brokle.ai/support
  description: The Open-Source AI Control Plane - See Everything. Control Everything.
    Observability, routing, and governance for AI.
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  termsOfService: https://brokle.ai/terms
  title: Brokle AI Control Plane API
  version: 1.0.0
paths:
  /api/v1/admin/tokens/blacklisted:
    get:
      description: Get a paginated list of blacklisted tokens with filtering options
      parameters:
      - description: 'Number of tokens to return (default: 50, max: 200)'
        example: 50
        in: query
        name: limit
        type: integer
      - description: 'Number of tokens to skip (default: 0)'
        example: 0
        in: query
        name: offset
        type: integer
      - description: Filter by user ID
        example: '"01K4FHGHT3XX9WFM293QPZ5G9V"'
        in: query
        name: user_id
        type: string
      - description: Filter by revocation reason
        example: '"security_incident"'
        in: query
        name: reason
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Blacklisted tokens list
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List blacklisted tokens
      tags:
      - Admin
      - Token Management
  /api/v1/admin/tokens/revoke:
    post:
      consumes:
      - application/json
      description: Immediately revoke a specific access token by JTI
      parameters:
      - description: Token revocation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.RevokeTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Token revoked successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Revoke specific token
      tags:
      - Admin
      - Token Management
  /api/v1/admin/tokens/stats:
    get:
      description: Get comprehensive statistics about token usage and revocation
      produces:
      - application/json
      responses:
        "200":
          description: Token statistics
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get token statistics
      tags:
      - Admin
      - Token Management
  /api/v1/admin/users/{userID}/tokens/revoke:
    post:
      consumes:
      - application/json
      description: Immediately revoke all active access tokens for a specific user
      parameters:
      - description: User ID
        example: '"01K4FHGHT3XX9WFM293QPZ5G9V"'
        in: path
        name: userID
        required: true
        type: string
      - description: User token revocation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.RevokeUserTokensRequest'
      produces:
      - application/json
      responses:
        "200":
          description: User tokens revoked successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Revoke all user tokens
      tags:
      - Admin
      - Token Management
  /api/v1/analytics/costs:
    get:
      consumes:
      - application/json
      description: Get detailed cost analytics including trends, breakdowns by provider/model,
        and optimization suggestions
      parameters:
      - default: '"30d"'
        description: Time period for analytics
        enum:
        - 1d
        - 7d
        - 30d
        - 90d
        - 1y
        in: query
        name: period
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment tag
        example: '"production"'
        in: query
        name: environment
        type: string
      - default: '"USD"'
        description: Currency for cost display
        enum:
        - USD
        - EUR
        - GBP
        in: query
        name: currency
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Cost analytics and optimization insights
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/analytics.CostAnalytics'
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get cost analytics
      tags:
      - Analytics
  /api/v1/analytics/models:
    get:
      consumes:
      - application/json
      description: Get performance and usage analytics for AI models including quality
        scores and cost efficiency
      parameters:
      - default: '"30d"'
        description: Time period for analytics
        enum:
        - 1d
        - 7d
        - 30d
        - 90d
        - 1y
        in: query
        name: period
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment tag
        example: '"production"'
        in: query
        name: environment
        type: string
      - description: Filter by AI provider
        example: '"openai"'
        in: query
        name: provider
        type: string
      - description: Filter by specific model
        example: '"gpt-4"'
        in: query
        name: model
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: AI model performance analytics
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/analytics.ModelAnalytics'
                  type: array
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get model analytics
      tags:
      - Analytics
  /api/v1/analytics/overview:
    get:
      consumes:
      - application/json
      description: Get high-level analytics overview including total requests, costs,
        and performance metrics
      parameters:
      - default: '"30d"'
        description: Time period for analytics
        enum:
        - 1d
        - 7d
        - 30d
        - 90d
        - 1y
        in: query
        name: period
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment tag
        example: '"production"'
        in: query
        name: environment
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Analytics overview
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/analytics.AnalyticsOverview'
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get analytics overview
      tags:
      - Analytics
  /api/v1/analytics/providers:
    get:
      consumes:
      - application/json
      description: Get performance analytics for AI providers including latency, success
        rates, and health scores
      parameters:
      - default: '"30d"'
        description: Time period for analytics
        enum:
        - 1d
        - 7d
        - 30d
        - 90d
        - 1y
        in: query
        name: period
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment tag
        example: '"production"'
        in: query
        name: environment
        type: string
      - description: Filter by specific provider
        example: '"openai"'
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Provider performance analytics
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/analytics.ProviderAnalytics'
                  type: array
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get provider analytics
      tags:
      - Analytics
  /api/v1/analytics/requests:
    get:
      consumes:
      - application/json
      description: Get detailed analytics about AI requests including patterns, providers,
        models, and success rates
      parameters:
      - default: '"30d"'
        description: Time period for analytics
        enum:
        - 1d
        - 7d
        - 30d
        - 90d
        - 1y
        in: query
        name: period
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment tag
        example: '"production"'
        in: query
        name: environment
        type: string
      - description: Filter by AI provider
        example: '"openai"'
        in: query
        name: provider
        type: string
      - description: Filter by AI model
        example: '"gpt-4"'
        in: query
        name: model
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Request analytics
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/analytics.RequestAnalytics'
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get request analytics
      tags:
      - Analytics
  /api/v1/auth/change-password:
    post:
      consumes:
      - application/json
      description: Change user password with current password verification. REQUIRES
        X-CSRF-Token header matching csrf_token cookie value (double-submit CSRF protection).
      parameters:
      - description: CSRF token from csrf_token cookie
        in: header
        name: X-CSRF-Token
        required: true
        type: string
      - description: Password change information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password changed successfully
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "400":
          description: Invalid request or wrong current password
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized - cookie invalid or missing
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: CSRF validation failed - token missing or mismatch
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - CSRFToken: []
        CookieAuth: []
      summary: Change password
      tags:
      - Authentication
  /api/v1/auth/complete-oauth-signup:
    post:
      consumes:
      - application/json
      description: Complete OAuth-based registration with additional user information
      parameters:
      - description: OAuth signup completion data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.CompleteOAuthSignupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OAuth signup completed successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Session not found or expired
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Complete OAuth signup
      tags:
      - Authentication
  /api/v1/auth/exchange-session/{session_id}:
    post:
      description: Exchange OAuth login session for access tokens (existing user OAuth
        login)
      parameters:
      - description: Login session ID
        in: path
        name: session_id
        required: true
        type: string
      responses:
        "200":
          description: Login tokens
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid session data
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Session not found or expired
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Exchange login session
      tags:
      - Authentication
  /api/v1/auth/forgot-password:
    post:
      consumes:
      - application/json
      description: Initiate password reset process by sending reset email
      parameters:
      - description: Email for password reset
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.ForgotPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Reset email sent if account exists
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Request password reset
      tags:
      - Authentication
  /api/v1/auth/github:
    get:
      description: Start GitHub OAuth authentication flow
      parameters:
      - description: Invitation token (if joining via invite)
        in: query
        name: invitation_token
        type: string
      responses:
        "302":
          description: Redirect to GitHub
          schema:
            type: string
      summary: Initiate GitHub OAuth
      tags:
      - Authentication
  /api/v1/auth/github/callback:
    get:
      description: Handle GitHub OAuth callback and create session
      parameters:
      - description: Authorization code from GitHub
        in: query
        name: code
        required: true
        type: string
      - description: CSRF state token
        in: query
        name: state
        required: true
        type: string
      responses:
        "302":
          description: Redirect to frontend
          schema:
            type: string
      summary: GitHub OAuth callback
      tags:
      - Authentication
  /api/v1/auth/google:
    get:
      description: Start Google OAuth authentication flow
      parameters:
      - description: Invitation token (if joining via invite)
        in: query
        name: invitation_token
        type: string
      responses:
        "302":
          description: Redirect to Google
          schema:
            type: string
      summary: Initiate Google OAuth
      tags:
      - Authentication
  /api/v1/auth/google/callback:
    get:
      description: Handle Google OAuth callback and create session
      parameters:
      - description: Authorization code from Google
        in: query
        name: code
        required: true
        type: string
      - description: CSRF state token
        in: query
        name: state
        required: true
        type: string
      responses:
        "302":
          description: Redirect to frontend
          schema:
            type: string
      summary: Google OAuth callback
      tags:
      - Authentication
  /api/v1/auth/login:
    post:
      consumes:
      - application/json
      description: 'Authenticate user. Sets httpOnly cookies: access_token (15min),
        refresh_token (7days), csrf_token (15min). Returns user data + expiry metadata
        (milliseconds).'
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_auth.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'Cookies set. Response: { user, expires_at(ms), expires_in(ms)
            }'
          headers:
            Set-Cookie:
              description: csrf_token=<token>; Secure; SameSite=Lax; Max-Age=900
              type: string
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: User login
      tags:
      - Authentication
  /api/v1/auth/logout:
    post:
      consumes:
      - application/json
      description: Logout user, invalidate session, clear httpOnly cookies. REQUIRES
        X-CSRF-Token header matching csrf_token cookie value (double-submit CSRF protection).
      parameters:
      - description: CSRF token from csrf_token cookie
        in: header
        name: X-CSRF-Token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful. All cookies cleared.
          headers:
            Set-Cookie:
              description: csrf_token=; Max-Age=-1
              type: string
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "401":
          description: Invalid session or cookie missing
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: CSRF validation failed - token missing or mismatch
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - CSRFToken: []
        CookieAuth: []
      summary: User logout
      tags:
      - Authentication
  /api/v1/auth/me:
    get:
      consumes:
      - application/json
      description: Get current user with token expiry metadata. Requires access_token
        cookie for authentication.
      produces:
      - application/json
      responses:
        "200":
          description: 'Response: { user, expires_at(ms), expires_in(ms) }'
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "401":
          description: Unauthorized - cookie invalid or missing
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - CookieAuth: []
      summary: Get current user
      tags:
      - Authentication
  /api/v1/auth/refresh:
    post:
      consumes:
      - application/json
      description: Refresh tokens using refresh_token from httpOnly cookie. Returns
        new cookies with rotated tokens + expiry metadata (milliseconds).
      produces:
      - application/json
      responses:
        "200":
          description: 'New cookies set. Response: { expires_at(ms), expires_in(ms)
            }'
          headers:
            Set-Cookie:
              description: csrf_token=<token>; Secure; SameSite=Lax; Max-Age=900
              type: string
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "401":
          description: Refresh token missing, invalid, or expired. Cookies cleared.
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Refresh access token
      tags:
      - Authentication
  /api/v1/auth/reset-password:
    post:
      consumes:
      - application/json
      description: Complete password reset using token from email
      parameters:
      - description: Reset password information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset successful
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "400":
          description: Invalid request payload or expired token
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Reset password
      tags:
      - Authentication
  /api/v1/auth/sessions:
    get:
      consumes:
      - application/json
      description: Get paginated list of user sessions with device info
      parameters:
      - description: Pagination cursor
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"created_at"'
        description: Sort field
        enum:
        - created_at
        in: query
        name: sort_by
        type: string
      - default: '"desc"'
        description: Sort direction
        enum:
        - asc
        - desc
        in: query
        name: sort_dir
        type: string
      - default: false
        description: Active sessions only
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Sessions retrieved successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user sessions
      tags:
      - Authentication
  /api/v1/auth/sessions/{session_id}:
    get:
      consumes:
      - application/json
      description: Get details of a specific user session
      parameters:
      - description: Session ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Session retrieved successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Session not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user session
      tags:
      - Authentication
  /api/v1/auth/sessions/{session_id}/revoke:
    post:
      consumes:
      - application/json
      description: Revoke a specific user session (logout from specific device)
      parameters:
      - description: Session ID
        in: path
        name: session_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Session revoked successfully
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Session not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke user session
      tags:
      - Authentication
  /api/v1/auth/sessions/revoke-all:
    post:
      consumes:
      - application/json
      description: Revoke all user sessions (logout from all devices). This will invalidate
        ALL active sessions for the user.
      parameters:
      - description: Request body (currently unused but kept for future extensibility)
        in: body
        name: request
        schema:
          $ref: '#/definitions/auth.RevokeAllSessionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: All sessions revoked successfully
          schema:
            $ref: '#/definitions/response.MessageResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke all user sessions
      tags:
      - Authentication
  /api/v1/auth/signup:
    post:
      consumes:
      - application/json
      description: 'Register new user with organization or invitation. Sets httpOnly
        cookies: access_token (15min), refresh_token (7days), csrf_token (15min).
        Returns user data + expiry metadata (milliseconds).'
      parameters:
      - description: Registration information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'Cookies set. Response: { user, expires_at(ms), expires_in(ms)
            }'
          headers:
            Set-Cookie:
              description: csrf_token=<token>; Secure; SameSite=Lax; Max-Age=900
              type: string
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Email already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: User registration
      tags:
      - Authentication
  /api/v1/billing/{orgId}/invoices:
    get:
      consumes:
      - application/json
      description: Get a paginated list of invoices for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Filter by invoice status
        enum:
        - draft
        - sent
        - paid
        - overdue
        - void
        in: query
        name: status
        type: string
      - description: Filter invoices from date (RFC3339)
        example: '"2024-01-01T00:00:00Z"'
        in: query
        name: start_date
        type: string
      - description: Filter invoices until date (RFC3339)
        example: '"2024-01-31T23:59:59Z"'
        in: query
        name: end_date
        type: string
      - description: Pagination cursor
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"created_at"'
        description: Sort field
        enum:
        - created_at
        in: query
        name: sort_by
        type: string
      - default: '"desc"'
        description: Sort direction
        enum:
        - asc
        - desc
        in: query
        name: sort_dir
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of organization invoices with cursor pagination
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/internal_transport_http_handlers_billing.Invoice'
                  type: array
                meta:
                  allOf:
                  - $ref: '#/definitions/response.Meta'
                  - properties:
                      pagination:
                        $ref: '#/definitions/response.Pagination'
                    type: object
              type: object
        "400":
          description: Bad request - invalid organization ID or parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view billing information
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List organization invoices
      tags:
      - Billing
  /api/v1/billing/{orgId}/subscription:
    get:
      consumes:
      - application/json
      description: Get current subscription details for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization subscription details
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/billing.Subscription'
              type: object
        "400":
          description: Bad request - invalid organization ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view billing information
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization or subscription not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get organization subscription
      tags:
      - Billing
    post:
      consumes:
      - application/json
      description: Update subscription plan, add-ons, or payment method for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Subscription update details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/billing.UpdateSubscriptionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated subscription details
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/billing.Subscription'
              type: object
        "400":
          description: Bad request - invalid parameters or subscription update not
            allowed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to modify billing information
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization or subscription not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "422":
          description: Unprocessable entity - payment method declined or plan change
            not allowed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update organization subscription
      tags:
      - Billing
  /api/v1/billing/{orgId}/usage:
    get:
      consumes:
      - application/json
      description: Get detailed usage metrics and billing information for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - default: '"current"'
        description: Billing period
        enum:
        - current
        - previous
        - custom
        in: query
        name: period
        type: string
      - description: Custom period start date (RFC3339)
        example: '"2024-01-01T00:00:00Z"'
        in: query
        name: start_date
        type: string
      - description: Custom period end date (RFC3339)
        example: '"2024-01-31T23:59:59Z"'
        in: query
        name: end_date
        type: string
      - default: '"all"'
        description: Include usage breakdown
        enum:
        - all
        - provider
        - project
        - environment
        - none
        in: query
        name: breakdown
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization usage metrics
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/billing.UsageMetrics'
              type: object
        "400":
          description: Bad request - invalid organization ID or parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view billing information
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get organization usage metrics
      tags:
      - Billing
  /api/v1/invitations/validate/{token}:
    get:
      description: Validate an invitation token and return invitation details
      parameters:
      - description: Invitation token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Valid invitation
          schema:
            $ref: '#/definitions/organization.InvitationDetailsResponse'
        "404":
          description: Invalid or not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "410":
          description: Invitation expired
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Validate invitation token
      tags:
      - Invitations
  /api/v1/logs/export:
    get:
      consumes:
      - application/json
      description: Initiate an export job for AI request logs in various formats (JSON,
        CSV, Excel)
      parameters:
      - description: Export format
        enum:
        - json
        - csv
        - xlsx
        example: '"json"'
        in: query
        name: format
        required: true
        type: string
      - description: Start time for export (RFC3339)
        example: '"2024-01-01T00:00:00Z"'
        in: query
        name: start_time
        required: true
        type: string
      - description: End time for export (RFC3339)
        example: '"2024-01-01T23:59:59Z"'
        in: query
        name: end_time
        required: true
        type: string
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment ID
        example: '"env_1234567890"'
        in: query
        name: environment_id
        type: string
      - description: Filter by AI provider
        example: '"openai"'
        in: query
        name: provider
        type: string
      - description: Filter by AI model
        example: '"gpt-4"'
        in: query
        name: model
        type: string
      - description: Filter by HTTP status code
        in: query
        name: status
        type: integer
      - default: false
        description: Include request/response bodies in export
        in: query
        name: include_body
        type: boolean
      produces:
      - application/json
      responses:
        "202":
          description: Export job initiated
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/logs.ExportResponse'
              type: object
        "400":
          description: Bad request - invalid parameters or date range too large
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions or export quota exceeded
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "422":
          description: Unprocessable entity - date range exceeds maximum allowed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export AI request logs
      tags:
      - Logs
  /api/v1/logs/requests:
    get:
      consumes:
      - application/json
      description: Get a paginated list of AI requests with filtering and search capabilities
      parameters:
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project ID
        example: '"proj_1234567890"'
        in: query
        name: project_id
        type: string
      - description: Filter by environment ID
        example: '"env_1234567890"'
        in: query
        name: environment_id
        type: string
      - description: Filter by AI provider
        example: '"openai"'
        in: query
        name: provider
        type: string
      - description: Filter by AI model
        example: '"gpt-4"'
        in: query
        name: model
        type: string
      - description: Filter by HTTP status code
        in: query
        name: status
        type: integer
      - description: Start time filter (RFC3339)
        example: '"2024-01-01T00:00:00Z"'
        in: query
        name: start_time
        type: string
      - description: End time filter (RFC3339)
        example: '"2024-01-01T23:59:59Z"'
        in: query
        name: end_time
        type: string
      - description: Minimum latency filter (ms)
        in: query
        name: min_latency
        type: integer
      - description: Maximum latency filter (ms)
        in: query
        name: max_latency
        type: integer
      - description: Search in request content
        example: '"error"'
        in: query
        name: search
        type: string
      - description: Pagination cursor
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"-timestamp"'
        description: Sort order
        enum:
        - timestamp
        - -timestamp
        - latency
        - -latency
        - cost
        - -cost
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of AI requests
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/logs.ListRequestsResponse'
              type: object
        "400":
          description: Bad request - invalid query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List AI requests
      tags:
      - Logs
  /api/v1/logs/requests/{requestId}:
    get:
      consumes:
      - application/json
      description: Get comprehensive details about a specific AI request including
        full execution trace
      parameters:
      - description: Request ID
        example: '"req_1234567890"'
        in: path
        name: requestId
        required: true
        type: string
      - default: false
        description: Include request/response bodies
        in: query
        name: include_body
        type: boolean
      - default: false
        description: Include detailed execution trace
        in: query
        name: include_trace
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Detailed request information
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/logs.AIRequestDetail'
              type: object
        "400":
          description: Bad request - invalid request ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view this request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Request not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get detailed request information
      tags:
      - Logs
  /api/v1/organizations:
    get:
      consumes:
      - application/json
      description: Get a paginated list of organizations for the authenticated user
      parameters:
      - description: Pagination cursor
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"created_at"'
        description: Sort field
        enum:
        - created_at
        - name
        in: query
        name: sort_by
        type: string
      - default: '"desc"'
        description: Sort direction
        enum:
        - asc
        - desc
        in: query
        name: sort_dir
        type: string
      - description: Search organizations by name or slug
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of organizations with cursor pagination
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/internal_transport_http_handlers_organization.Organization'
                  type: array
                meta:
                  allOf:
                  - $ref: '#/definitions/response.Meta'
                  - properties:
                      pagination:
                        $ref: '#/definitions/response.Pagination'
                    type: object
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List organizations
      tags:
      - Organizations
    post:
      consumes:
      - application/json
      description: Create a new organization. The authenticated user becomes the organization
        owner.
      parameters:
      - description: Organization details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_organization.CreateOrganizationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Organization created successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/internal_transport_http_handlers_organization.Organization'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - organization slug already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create organization
      tags:
      - Organizations
  /api/v1/organizations/{orgId}:
    delete:
      consumes:
      - application/json
      description: Permanently delete an organization. Only organization owners can
        delete organizations. This action cannot be undone.
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Organization deleted successfully
        "400":
          description: Bad request - invalid organization ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - only organization owners can delete organizations
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - cannot delete organization with active projects
            or subscriptions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete organization
      tags:
      - Organizations
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization details
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/internal_transport_http_handlers_organization.Organization'
              type: object
        "400":
          description: Bad request - invalid organization ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get organization details
      tags:
      - Organizations
    patch:
      consumes:
      - application/json
      description: Partially update organization details. Only owners and admins can
        update organization settings.
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Updated organization details (partial)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_organization.UpdateOrganizationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Organization updated successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/internal_transport_http_handlers_organization.Organization'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions (requires owner or admin
            role)
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update organization
      tags:
      - Organizations
  /api/v1/organizations/{orgId}/members:
    get:
      consumes:
      - application/json
      description: Get a list of all members in an organization, including their roles
        and status
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Filter by member status
        enum:
        - active
        - invited
        - suspended
        in: query
        name: status
        type: string
      - description: Filter by member role
        enum:
        - owner
        - admin
        - developer
        - viewer
        in: query
        name: role
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of organization members with cursor pagination
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/organization.OrganizationMember'
                  type: array
                meta:
                  allOf:
                  - $ref: '#/definitions/response.Meta'
                  - properties:
                      pagination:
                        $ref: '#/definitions/response.Pagination'
                    type: object
              type: object
        "400":
          description: Bad request - invalid organization ID or query parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view members
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List organization members
      tags:
      - Organizations
    post:
      consumes:
      - application/json
      description: Send an invitation to join the organization. Only owners and admins
        can invite new members.
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Member invitation details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/organization.InviteMemberRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Member invitation sent successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/organization.OrganizationMember'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions (requires owner or admin
            role)
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - user is already a member or has pending invitation
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Invite member to organization
      tags:
      - Organizations
  /api/v1/organizations/{orgId}/members/{userId}:
    delete:
      consumes:
      - application/json
      description: Remove a member from the organization or revoke their invitation.
        Owners and admins can remove members.
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: User ID to remove
        example: '"usr_1234567890"'
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Member removed successfully
        "400":
          description: Bad request - invalid organization ID or user ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions or cannot remove organization
            owner
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization or member not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove member from organization
      tags:
      - Organizations
  /api/v1/organizations/{orgId}/settings:
    get:
      consumes:
      - application/json
      description: Get all settings for an organization as key-value pairs
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Organization settings retrieved successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/organization.SettingsListResponse'
              type: object
        "400":
          description: Bad request - invalid organization ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all organization settings
      tags:
      - Organization Settings
    post:
      consumes:
      - application/json
      description: Create a new setting for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Setting details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/organization.CreateSettingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Setting created successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/organization.OrganizationSetting'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - setting key already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create organization setting
      tags:
      - Organization Settings
  /api/v1/organizations/{orgId}/settings/{key}:
    delete:
      consumes:
      - application/json
      description: Delete a setting for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Setting key
        example: '"theme_color"'
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Setting deleted successfully
        "400":
          description: Bad request - invalid parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Setting not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete organization setting
      tags:
      - Organization Settings
    get:
      consumes:
      - application/json
      description: Get a specific setting by key for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Setting key
        example: '"theme_color"'
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Setting retrieved successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/organization.OrganizationSetting'
              type: object
        "400":
          description: Bad request - invalid parameters
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Setting not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get specific organization setting
      tags:
      - Organization Settings
    put:
      consumes:
      - application/json
      description: Update an existing setting for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Setting key
        example: '"theme_color"'
        in: path
        name: key
        required: true
        type: string
      - description: Updated setting value
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/organization.UpdateSettingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Setting updated successfully
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Setting not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update organization setting
      tags:
      - Organization Settings
  /api/v1/organizations/{orgId}/settings/bulk:
    post:
      consumes:
      - application/json
      description: Create multiple settings for an organization in a single request
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Settings to create
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/organization.BulkSettingsRequest'
      produces:
      - application/json
      responses:
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Bulk create organization settings
      tags:
      - Organization Settings
  /api/v1/organizations/{orgId}/settings/export:
    get:
      consumes:
      - application/json
      description: Export all settings for an organization
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export organization settings
      tags:
      - Organization Settings
  /api/v1/organizations/{orgId}/settings/import:
    post:
      consumes:
      - application/json
      description: Import settings for an organization, creating or updating as needed
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      - description: Settings to import
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/organization.BulkSettingsRequest'
      produces:
      - application/json
      responses:
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Import organization settings
      tags:
      - Organization Settings
  /api/v1/organizations/{orgId}/settings/reset:
    post:
      consumes:
      - application/json
      description: Reset all organization settings to default values (removes all
        current settings)
      parameters:
      - description: Organization ID
        example: '"org_1234567890"'
        in: path
        name: orgId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "501":
          description: Not implemented
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset organization settings to defaults
      tags:
      - Organization Settings
  /api/v1/playground/execute:
    post:
      consumes:
      - application/json
      description: Executes a prompt template with variables. Optionally updates session's
        last_run if session_id provided.
      parameters:
      - description: Execution request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_playground.ExecuteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/playground.ExecuteResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Execute a prompt in playground
      tags:
      - Playground
  /api/v1/playground/stream:
    post:
      consumes:
      - application/json
      description: Streams prompt execution results via SSE. Optionally updates session's
        last_run if session_id provided.
      parameters:
      - description: Streaming execution request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_playground.StreamRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE stream
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Execute a prompt with streaming
      tags:
      - Playground
  /api/v1/projects:
    get:
      consumes:
      - application/json
      description: Get a paginated list of projects accessible to the authenticated
        user. Optionally filter by organization.
      parameters:
      - description: Filter by organization ID
        example: '"org_1234567890"'
        in: query
        name: organization_id
        type: string
      - description: Filter by project status
        enum:
        - active
        - paused
        - archived
        in: query
        name: status
        type: string
      - description: Cursor for pagination
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"created_at"'
        description: Sort field
        enum:
        - created_at
        - name
        in: query
        name: sort_by
        type: string
      - default: '"desc"'
        description: Sort direction
        enum:
        - asc
        - desc
        in: query
        name: sort_dir
        type: string
      - description: Search projects by name or slug
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of projects with cursor pagination
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/project.Project'
                  type: array
                meta:
                  allOf:
                  - $ref: '#/definitions/response.Meta'
                  - properties:
                      pagination:
                        $ref: '#/definitions/response.Pagination'
                    type: object
              type: object
        "400":
          description: Bad request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List projects
      tags:
      - Projects
    post:
      consumes:
      - application/json
      description: Create a new project within an organization. User must have appropriate
        permissions in the organization.
      parameters:
      - description: Project details (includes organization_id)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/project.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Project created successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/project.Project'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions in organization
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Organization not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - project slug already exists in organization
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create project
      tags:
      - Projects
  /api/v1/projects/{projectId}:
    delete:
      consumes:
      - application/json
      description: Permanently delete a project and all associated environments and
        data. This action cannot be undone.
      parameters:
      - description: Project ID
        example: '"proj_1234567890"'
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Project deleted successfully
        "400":
          description: Bad request - invalid project ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions (requires admin or owner
            role)
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - cannot delete project with active environments or
            API usage
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete project
      tags:
      - Projects
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific project
      parameters:
      - description: Project ID
        example: '"proj_1234567890"'
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Project details
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/project.Project'
              type: object
        "400":
          description: Bad request - invalid project ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project details
      tags:
      - Projects
    put:
      consumes:
      - application/json
      description: Update project details. Requires appropriate permissions within
        the project organization.
      parameters:
      - description: Project ID
        example: '"proj_1234567890"'
        in: path
        name: projectId
        required: true
        type: string
      - description: Updated project details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/project.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Project updated successfully
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/project.Project'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update project
      tags:
      - Projects
  /api/v1/projects/{projectId}/api-keys:
    get:
      consumes:
      - application/json
      description: Get a paginated list of API keys for a specific project. Keys are
        shown with preview format (bk_xxxx...yyyy) for security.
      parameters:
      - description: Project ID
        example: '"proj_01234567890123456789012345"'
        in: path
        name: projectId
        required: true
        type: string
      - description: Filter by API key status
        enum:
        - active
        - expired
        in: query
        name: status
        type: string
      - description: Pagination cursor
        example: '"eyJjcmVhdGVkX2F0IjoiMjAyNC0wMS0wMVQxMjowMDowMFoiLCJpZCI6IjAxSDJYM1k0WjUifQ=="'
        in: query
        name: cursor
        type: string
      - default: 50
        description: Items per page
        enum:
        - 10
        - 20
        - 30
        - 40
        - 50
        in: query
        name: page_size
        type: integer
      - default: '"created_at"'
        description: Sort field
        enum:
        - created_at
        - name
        - last_used_at
        in: query
        name: sort_by
        type: string
      - default: '"desc"'
        description: Sort direction
        enum:
        - asc
        - desc
        in: query
        name: sort_dir
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of project-scoped API keys with cursor pagination
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/apikey.APIKey'
                  type: array
                meta:
                  allOf:
                  - $ref: '#/definitions/response.Meta'
                  - properties:
                      pagination:
                        $ref: '#/definitions/response.Pagination'
                    type: object
              type: object
        "400":
          description: Bad request - invalid project ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to view API keys
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List API keys
      tags:
      - API Keys
    post:
      consumes:
      - application/json
      description: 'Create a new industry-standard API key for the project. The full
        key will only be displayed once upon creation. Format: bk_{40_char_random}'
      parameters:
      - description: Project ID
        example: '"proj_01234567890123456789012345"'
        in: path
        name: projectId
        required: true
        type: string
      - description: API key details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/apikey.CreateAPIKeyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Project-scoped API key created successfully (full key only
            shown once)
          schema:
            allOf:
            - $ref: '#/definitions/response.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/apikey.APIKey'
              type: object
        "400":
          description: Bad request - invalid input or validation errors
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to create API keys
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Conflict - API key name already exists in project
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create API key
      tags:
      - API Keys
  /api/v1/projects/{projectId}/api-keys/{keyId}:
    delete:
      consumes:
      - application/json
      description: Permanently revoke and delete a project-scoped API key. This action
        cannot be undone and will immediately invalidate the key across all environments.
      parameters:
      - description: Project ID
        example: '"proj_01234567890123456789012345"'
        in: path
        name: projectId
        required: true
        type: string
      - description: API Key ID
        example: '"key_01234567890123456789012345"'
        in: path
        name: keyId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Project-scoped API key deleted successfully
        "400":
          description: Bad request - invalid project ID or key ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions to delete API keys
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project or API key not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete project-scoped API key
      tags:
      - API Keys
  /api/v1/projects/{projectId}/archive:
    post:
      consumes:
      - application/json
      description: Archive a project (sets status to archived, read-only, reversible)
      parameters:
      - description: Project ID
        example: '"proj_1234567890"'
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Project archived successfully
        "400":
          description: Bad request - project already archived
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Archive project
      tags:
      - Projects
  /api/v1/projects/{projectId}/credentials/ai:
    get:
      description: Returns all configured AI provider credentials for the project
        (with masked keys).
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/credentials.ProviderCredentialResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List AI provider credentials
      tags:
      - Credentials
    post:
      consumes:
      - application/json
      description: Creates a new credential configuration. Each configuration has
        a unique name within the project.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Credential request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/credentials.CreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/credentials.ProviderCredentialResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "422":
          description: API key validation failed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create AI provider credential
      tags:
      - Credentials
  /api/v1/projects/{projectId}/credentials/ai/{credentialId}:
    delete:
      description: Removes a credential configuration by its ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Credential ID
        in: path
        name: credentialId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete AI provider credential
      tags:
      - Credentials
    get:
      description: Returns the credential configuration for a specific credential
        ID (with masked key).
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Credential ID
        in: path
        name: credentialId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/credentials.ProviderCredentialResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get AI provider credential
      tags:
      - Credentials
    patch:
      consumes:
      - application/json
      description: Updates an existing credential configuration by ID. Name can be
        changed if unique.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Credential ID
        in: path
        name: credentialId
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/credentials.UpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/credentials.ProviderCredentialResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "422":
          description: API key validation failed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update AI provider credential
      tags:
      - Credentials
  /api/v1/projects/{projectId}/credentials/ai/models:
    get:
      description: Returns LLM models available based on configured AI providers.
        Standard providers return default models plus any custom models. Custom providers
        return only user-defined models.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/analytics.AvailableModel'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get available models
      tags:
      - Credentials
  /api/v1/projects/{projectId}/credentials/ai/test:
    post:
      consumes:
      - application/json
      description: Tests the provided API key and configuration without saving. Returns
        success or error message.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Connection test request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_credentials.TestConnectionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/credentials.TestConnectionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Test AI provider connection
      tags:
      - Credentials
  /api/v1/projects/{projectId}/datasets:
    get:
      description: Returns all datasets for the project.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/evaluation.DatasetResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List datasets
      tags:
      - Datasets
    post:
      consumes:
      - application/json
      description: Creates a new dataset for the project. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Project ID (Dashboard routes)
        in: path
        name: projectId
        type: string
      - description: Dataset request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateDatasetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.DatasetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create dataset
      tags:
      - Datasets
      - SDK - Datasets
  /api/v1/projects/{projectId}/datasets/{datasetId}:
    delete:
      description: Removes a dataset by its ID. Also deletes all items in the dataset.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete dataset
      tags:
      - Datasets
    get:
      description: Returns the dataset for a specific ID. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Project ID (Dashboard routes)
        in: path
        name: projectId
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.DatasetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get dataset
      tags:
      - Datasets
      - SDK - Datasets
    put:
      consumes:
      - application/json
      description: Updates an existing dataset by ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.UpdateDatasetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.DatasetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update dataset
      tags:
      - Datasets
  /api/v1/projects/{projectId}/datasets/{datasetId}/items:
    get:
      description: Returns items for a dataset with pagination.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Limit (default 50, max 100)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.DatasetItemListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List dataset items
      tags:
      - Dataset Items
    post:
      consumes:
      - application/json
      description: Creates a new item in the dataset.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Item request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateDatasetItemRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_transport_http_handlers_evaluation.DatasetItemResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create dataset item
      tags:
      - Dataset Items
  /api/v1/projects/{projectId}/datasets/{datasetId}/items/{itemId}:
    delete:
      description: Removes an item from the dataset.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Item ID
        in: path
        name: itemId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete dataset item
      tags:
      - Dataset Items
  /api/v1/projects/{projectId}/experiments:
    get:
      description: Returns all experiments for the project.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Filter by dataset ID
        in: query
        name: dataset_id
        type: string
      - description: Filter by status (pending, running, completed, failed)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/evaluation.ExperimentResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List experiments
      tags:
      - Experiments
    post:
      consumes:
      - application/json
      description: Creates a new experiment for the project. Works for both SDK and
        Dashboard routes.
      parameters:
      - description: Project ID (Dashboard routes)
        in: path
        name: projectId
        type: string
      - description: Experiment request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateExperimentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Dataset not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create experiment
      tags:
      - Experiments
      - SDK - Experiments
  /api/v1/projects/{projectId}/experiments/{experimentId}:
    delete:
      description: Removes an experiment by its ID. Also deletes all items in the
        experiment.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete experiment
      tags:
      - Experiments
    get:
      description: Returns the experiment for a specific ID. Works for both SDK and
        Dashboard routes.
      parameters:
      - description: Project ID (Dashboard routes)
        in: path
        name: projectId
        type: string
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get experiment
      tags:
      - Experiments
      - SDK - Experiments
    put:
      consumes:
      - application/json
      description: Updates an existing experiment by ID. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Project ID (Dashboard routes)
        in: path
        name: projectId
        type: string
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.UpdateExperimentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update experiment
      tags:
      - Experiments
      - SDK - Experiments
  /api/v1/projects/{projectId}/experiments/{experimentId}/items:
    get:
      description: Returns items for an experiment with pagination.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      - description: Limit (default 50, max 100)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ExperimentItemListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List experiment items
      tags:
      - Experiment Items
  /api/v1/projects/{projectId}/playground/sessions:
    get:
      description: Lists all playground sessions for the sidebar.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Maximum number of sessions to return (default 20, max 100)
        in: query
        name: limit
        type: integer
      - collectionFormat: csv
        description: Filter by tags (any match)
        in: query
        items:
          type: string
        name: tags
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/playground.SessionSummary'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List playground sessions
      tags:
      - Playground
    post:
      consumes:
      - application/json
      description: Creates a new playground session with name and windows.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Session configuration
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_playground.CreateSessionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/playground.SessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create playground session
      tags:
      - Playground
  /api/v1/projects/{projectId}/playground/sessions/{sessionId}:
    delete:
      description: Permanently deletes a playground session.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete playground session
      tags:
      - Playground
    get:
      description: Retrieves a playground session by its ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/playground.SessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get playground session
      tags:
      - Playground
    put:
      consumes:
      - application/json
      description: Updates a session's name, description, tags, variables, config,
        or windows.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Session ID
        in: path
        name: sessionId
        required: true
        type: string
      - description: Update fields
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_playground.UpdateSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/playground.SessionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update playground session
      tags:
      - Playground
  /api/v1/projects/{projectId}/prompts:
    get:
      consumes:
      - application/json
      description: Retrieve a paginated list of prompts with optional filtering
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Filter by prompt type (text, chat)
        in: query
        name: type
        type: string
      - description: Filter by tags (comma-separated)
        in: query
        name: tags
        type: string
      - description: Search in name and description
        in: query
        name: search
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 50, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of prompts
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/prompt.PromptListItem'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: List prompts for a project
      tags:
      - Prompts
    post:
      consumes:
      - application/json
      description: Create a new prompt with initial version
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Create prompt request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.CreatePromptRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created prompt
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.PromptResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "409":
          description: Prompt name already exists
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Create a new prompt
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/{promptId}:
    delete:
      consumes:
      - application/json
      description: Soft delete a prompt and all its versions
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Prompt deleted
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Delete a prompt
      tags:
      - Prompts
    get:
      consumes:
      - application/json
      description: Retrieve prompt details with latest version
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Prompt details
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.PromptResponse'
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get prompt by ID
      tags:
      - Prompts
    put:
      consumes:
      - application/json
      description: Update prompt name, description, or tags (not template)
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      - description: Update prompt request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.UpdatePromptRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Prompt updated
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Update prompt metadata
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/{promptId}/diff:
    get:
      consumes:
      - application/json
      description: Get the diff between two versions of a prompt
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      - description: From version number
        in: query
        name: from
        required: true
        type: integer
      - description: To version number
        in: query
        name: to
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Version diff
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.VersionDiffResponse'
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Version not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Compare two versions
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/{promptId}/versions:
    get:
      consumes:
      - application/json
      description: Retrieve all versions of a prompt
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of versions
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/prompt.VersionResponse'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: List prompt versions
      tags:
      - Prompts
    post:
      consumes:
      - application/json
      description: Create a new version of a prompt
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      - description: Create version request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.CreateVersionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created version
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.VersionResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Create a new version
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/{promptId}/versions/{versionId}:
    get:
      consumes:
      - application/json
      description: Retrieve a specific version of a prompt
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      - description: Version ID or version number
        in: path
        name: versionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Version details
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.VersionResponse'
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Version not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get version by ID
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/{promptId}/versions/{versionId}/labels:
    patch:
      consumes:
      - application/json
      description: Add or update labels pointing to a specific version
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Prompt ID
        in: path
        name: promptId
        required: true
        type: string
      - description: Version ID
        in: path
        name: versionId
        required: true
        type: string
      - description: Set labels request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.SetLabelsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Labels set successfully
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "403":
          description: Protected label modification forbidden
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Version not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Set labels on a version
      tags:
      - Prompts
  /api/v1/projects/{projectId}/prompts/settings/protected-labels:
    get:
      consumes:
      - application/json
      description: Retrieve the list of protected labels for a project
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of protected labels
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get protected labels
      tags:
      - Prompts
    put:
      consumes:
      - application/json
      description: Update the list of protected labels for a project
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Protected labels request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.ProtectedLabelsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Protected labels updated
          schema:
            $ref: '#/definitions/response.APIResponse'
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Set protected labels
      tags:
      - Prompts
  /api/v1/projects/{projectId}/score-configs:
    get:
      description: Returns all score configurations for the project.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/evaluation.ScoreConfigResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: List score configs
      tags:
      - Score Configs
    post:
      consumes:
      - application/json
      description: Creates a new score configuration for the project. Score configs
        define validation rules for scores.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Score config request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.ScoreConfigResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Create score config
      tags:
      - Score Configs
  /api/v1/projects/{projectId}/score-configs/{configId}:
    delete:
      description: Removes a score configuration by its ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Score Config ID
        in: path
        name: configId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Delete score config
      tags:
      - Score Configs
    get:
      description: Returns the score configuration for a specific config ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Score Config ID
        in: path
        name: configId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ScoreConfigResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Get score config
      tags:
      - Score Configs
    put:
      consumes:
      - application/json
      description: Updates an existing score configuration by ID.
      parameters:
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: Score Config ID
        in: path
        name: configId
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.UpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ScoreConfigResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Update score config
      tags:
      - Score Configs
  /api/v1/projects/{projectId}/unarchive:
    post:
      consumes:
      - application/json
      description: Unarchive a project (sets status back to active)
      parameters:
      - description: Project ID
        example: '"proj_1234567890"'
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Project unarchived successfully
        "400":
          description: Bad request - project already active
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unarchive project
      tags:
      - Projects
  /api/v1/scores:
    get:
      consumes:
      - application/json
      description: Retrieve paginated list of quality scores
      parameters:
      - description: Filter by trace ID
        in: query
        name: trace_id
        type: string
      - description: Filter by span ID
        in: query
        name: span_id
        type: string
      - description: Filter by session ID
        in: query
        name: session_id
        type: string
      - description: Filter by score name
        in: query
        name: name
        type: string
      - description: Filter by source (API, AUTO, HUMAN, EVAL)
        in: query
        name: source
        type: string
      - description: Filter by data type (NUMERIC, CATEGORICAL, BOOLEAN)
        in: query
        name: data_type
        type: string
      - description: Limit (default 50, max 1000)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of scores
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/observability.Score'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: List quality scores with filtering
      tags:
      - Scores
  /api/v1/scores/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve detailed score information
      parameters:
      - description: Score ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Score details
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/observability.Score'
              type: object
        "404":
          description: Score not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get quality score by ID
      tags:
      - Scores
    put:
      consumes:
      - application/json
      description: Update an existing score (for corrections/enrichment after initial
        creation)
      parameters:
      - description: Score ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated score data
        in: body
        name: score
        required: true
        schema:
          $ref: '#/definitions/observability.Score'
      produces:
      - application/json
      responses:
        "200":
          description: Updated score
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/observability.Score'
              type: object
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Score not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Update quality score by ID
      tags:
      - Scores
  /api/v1/spans:
    get:
      consumes:
      - application/json
      description: Retrieve paginated list of spans
      parameters:
      - description: Filter by trace ID
        in: query
        name: trace_id
        type: string
      - description: Filter by span type
        in: query
        name: type
        type: string
      - description: Filter by model
        in: query
        name: model
        type: string
      - description: Filter by level
        in: query
        name: level
        type: string
      - description: Limit (default 50, max 1000)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of spans
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/observability.Span'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: List spans with filtering
      tags:
      - Spans
  /api/v1/spans/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a span by its OTEL span_id
      parameters:
      - description: Span ID (OTEL 16-character hex)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Span deleted
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Span not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Delete a span
      tags:
      - Spans
    get:
      consumes:
      - application/json
      description: Retrieve detailed span information
      parameters:
      - description: Span ID (OTEL 16-character hex)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Span details
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/observability.Span'
              type: object
        "404":
          description: Span not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get span by ID
      tags:
      - Spans
  /api/v1/traces:
    get:
      consumes:
      - application/json
      description: Retrieve paginated list of traces with optional filtering
      parameters:
      - description: Project ID
        in: query
        name: project_id
        required: true
        type: string
      - description: Filter by session ID
        in: query
        name: session_id
        type: string
      - description: Filter by user ID
        in: query
        name: user_id
        type: string
      - description: Filter by service name (OTLP resource attribute)
        in: query
        name: service_name
        type: string
      - description: Filter by AI model name (e.g., gpt-4, claude-3-opus)
        in: query
        name: model_name
        type: string
      - description: Filter by provider name (e.g., openai, anthropic)
        in: query
        name: provider_name
        type: string
      - description: Minimum total cost filter
        in: query
        name: min_cost
        type: number
      - description: Maximum total cost filter
        in: query
        name: max_cost
        type: number
      - description: Minimum total tokens filter
        format: int64
        in: query
        name: min_tokens
        type: integer
      - description: Maximum total tokens filter
        format: int64
        in: query
        name: max_tokens
        type: integer
      - description: Minimum duration filter (nanoseconds)
        format: int64
        in: query
        name: min_duration
        type: integer
      - description: Maximum duration filter (nanoseconds)
        format: int64
        in: query
        name: max_duration
        type: integer
      - description: Filter traces with errors only
        in: query
        name: has_error
        type: boolean
      - description: Start time (Unix timestamp)
        format: int64
        in: query
        name: start_time
        type: integer
      - description: End time (Unix timestamp)
        format: int64
        in: query
        name: end_time
        type: integer
      - description: Limit (default 50, max 1000)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of trace summaries
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/observability.TraceSummary'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: List traces for a project
      tags:
      - Traces
  /api/v1/traces/{id}:
    delete:
      consumes:
      - application/json
      description: Delete all spans belonging to a trace
      parameters:
      - description: Trace ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Trace deleted
          schema:
            $ref: '#/definitions/response.APIResponse'
        "404":
          description: Trace not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Delete a trace
      tags:
      - Traces
    get:
      consumes:
      - application/json
      description: Retrieve detailed trace information (aggregated from spans)
      parameters:
      - description: Trace ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Trace summary
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/observability.TraceSummary'
              type: object
        "404":
          description: Trace not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get trace by ID
      tags:
      - Traces
  /api/v1/traces/{id}/scores:
    get:
      consumes:
      - application/json
      description: Retrieve trace with all associated quality scores
      parameters:
      - description: Trace ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Scores for trace
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/observability.Score'
                  type: array
              type: object
        "404":
          description: Trace not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get trace with quality scores
      tags:
      - Traces
  /api/v1/traces/{id}/spans:
    get:
      consumes:
      - application/json
      description: Retrieve trace with all spans in hierarchical structure
      parameters:
      - description: Trace ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Spans for trace
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/observability.Span'
                  type: array
              type: object
        "404":
          description: Trace not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get trace with spans tree
      tags:
      - Traces
  /api/v1/traces/filter-options:
    get:
      consumes:
      - application/json
      description: Retrieve available filter values from actual trace data for populating
        filter UI
      parameters:
      - description: Project ID
        in: query
        name: project_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Filter options
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/observability.TraceFilterOptions'
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - BearerAuth: []
      summary: Get available filter options for traces
      tags:
      - Traces
  /api/v1/users/me:
    get:
      description: Get the profile information of the currently authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: User profile retrieved successfully
          schema:
            $ref: '#/definitions/user.UserProfileResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user profile
      tags:
      - User
    put:
      consumes:
      - application/json
      description: Update the profile information of the currently authenticated user
      parameters:
      - description: Profile update information
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_transport_http_handlers_user.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Profile updated successfully
          schema:
            $ref: '#/definitions/user.UserProfileResponse'
        "400":
          description: Invalid request payload
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update current user profile
      tags:
      - User
  /api/v1/users/me/default-organization:
    put:
      consumes:
      - application/json
      description: Set the default organization for the authenticated user
      parameters:
      - description: Organization ID to set as default
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.SetDefaultOrgRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Default organization updated successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid request body or organization ID
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: User is not a member of the organization
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set user's default organization
      tags:
      - User
  /health:
    get:
      description: Get basic health status of the service
      produces:
      - application/json
      responses:
        "200":
          description: Service is healthy
          schema:
            $ref: '#/definitions/health.HealthResponse'
      summary: Basic health check
      tags:
      - Health
  /health/live:
    get:
      description: Check if service is alive and responsive
      produces:
      - application/json
      responses:
        "200":
          description: Service is alive and responsive
          schema:
            $ref: '#/definitions/health.HealthResponse'
      summary: Liveness check
      tags:
      - Health
  /health/ready:
    get:
      description: Check if service and all dependencies are ready to handle requests
      produces:
      - application/json
      responses:
        "200":
          description: Service and all dependencies are ready
          schema:
            $ref: '#/definitions/health.HealthResponse'
        "503":
          description: Service or dependencies are not ready
          schema:
            $ref: '#/definitions/health.HealthResponse'
      summary: Readiness check
      tags:
      - Health
  /metrics:
    get:
      description: Retrieve Prometheus-compatible metrics for monitoring and observability
      produces:
      - text/plain
      responses:
        "200":
          description: Prometheus metrics in text format
          schema:
            type: string
        "500":
          description: Internal server error
          schema:
            type: string
      summary: Get Prometheus metrics
      tags:
      - Monitoring
  /v1/auth/validate-key:
    post:
      consumes:
      - application/json
      description: Validates a self-contained API key and extracts project information
        automatically
      parameters:
      - description: 'API key (format: bk_{40_char_random})'
        in: header
        name: X-API-Key
        type: string
      - description: 'Bearer token format: Bearer {api_key}'
        in: header
        name: Authorization
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: API key validation successful
          schema:
            $ref: '#/definitions/response.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Invalid, inactive, or expired API key
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      summary: Validate API key
      tags:
      - SDK - Authentication
  /v1/datasets:
    post:
      consumes:
      - application/json
      description: Creates a new dataset for the project. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Dataset request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateDatasetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.DatasetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "409":
          description: Name already exists
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create dataset
      tags:
      - Datasets
      - SDK - Datasets
  /v1/datasets/{datasetId}:
    get:
      description: Returns the dataset for a specific ID. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.DatasetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get dataset
      tags:
      - Datasets
      - SDK - Datasets
  /v1/datasets/{datasetId}/items:
    get:
      description: Returns items for a dataset with pagination using API key authentication.
      parameters:
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Limit (default 50, max 100)
        in: query
        name: limit
        type: integer
      - description: Offset (default 0)
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.DatasetItemListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: List dataset items via SDK
      tags:
      - SDK - Datasets
    post:
      consumes:
      - application/json
      description: Creates multiple items in a dataset using API key authentication.
      parameters:
      - description: Dataset ID
        in: path
        name: datasetId
        required: true
        type: string
      - description: Batch items request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateDatasetItemsBatchRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.SDKBatchCreateItemsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Batch create dataset items via SDK
      tags:
      - SDK - Datasets
  /v1/experiments:
    post:
      consumes:
      - application/json
      description: Creates a new experiment for the project. Works for both SDK and
        Dashboard routes.
      parameters:
      - description: Experiment request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateExperimentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Dataset not found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create experiment
      tags:
      - Experiments
      - SDK - Experiments
  /v1/experiments/{experimentId}:
    get:
      description: Returns the experiment for a specific ID. Works for both SDK and
        Dashboard routes.
      parameters:
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get experiment
      tags:
      - Experiments
      - SDK - Experiments
    patch:
      consumes:
      - application/json
      description: Updates an existing experiment by ID. Works for both SDK and Dashboard
        routes.
      parameters:
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.UpdateExperimentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/evaluation.ExperimentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update experiment
      tags:
      - Experiments
      - SDK - Experiments
  /v1/experiments/{experimentId}/items:
    post:
      consumes:
      - application/json
      description: Creates multiple items for an experiment using API key authentication.
      parameters:
      - description: Experiment ID
        in: path
        name: experimentId
        required: true
        type: string
      - description: Batch items request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateExperimentItemsBatchRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.SDKBatchCreateExperimentItemsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Batch create experiment items via SDK
      tags:
      - SDK - Experiments
  /v1/logs:
    post:
      consumes:
      - application/json
      - application/x-protobuf
      description: Accepts OpenTelemetry Protocol (OTLP) logs in JSON or Protobuf
        format
      parameters:
      - description: OTLP logs export request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/observability.OTLPLogsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Logs accepted
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid OTLP request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Invalid or missing API key
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - ApiKeyAuth: []
      summary: OTLP logs ingestion endpoint (OpenTelemetry spec compliant)
      tags:
      - SDK - OTLP
  /v1/metrics:
    post:
      consumes:
      - application/json
      - application/x-protobuf
      description: Accepts OpenTelemetry Protocol (OTLP) metrics in JSON or Protobuf
        format
      parameters:
      - description: OTLP metrics export request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/observability.OTLPMetricsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Metrics accepted
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid OTLP request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Invalid or missing API key
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - ApiKeyAuth: []
      summary: OTLP metrics ingestion endpoint (OpenTelemetry spec compliant)
      tags:
      - SDK - OTLP
  /v1/prompts:
    get:
      consumes:
      - application/json
      description: Retrieve a list of prompts for the project
      parameters:
      - description: Filter by prompt type (text, chat)
        in: query
        name: type
        type: string
      - description: Filter by tags (comma-separated)
        in: query
        name: tags
        type: string
      - description: Search in name and description
        in: query
        name: search
        type: string
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Items per page (default: 50, max: 100)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of prompts
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/prompt.PromptListItem'
                  type: array
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - APIKeyAuth: []
      summary: List prompts
      tags:
      - SDK Prompts
    post:
      consumes:
      - application/json
      description: Creates a new prompt or adds a new version if prompt already exists
      parameters:
      - description: Prompt upsert request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/prompt.UpsertPromptRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Upsert result
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.UpsertResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - APIKeyAuth: []
      summary: Create or update a prompt
      tags:
      - SDK Prompts
  /v1/prompts/{name}:
    get:
      consumes:
      - application/json
      description: Retrieve a prompt by name with optional label or version specification
      parameters:
      - description: Prompt name
        in: path
        name: name
        required: true
        type: string
      - description: 'Label to resolve (default: latest)'
        in: query
        name: label
        type: string
      - description: Specific version number (takes precedence over label)
        in: query
        name: version
        type: integer
      - description: 'Cache TTL in seconds (default: 60)'
        in: query
        name: cache_ttl
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Prompt data
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/prompt.PromptResponse'
              type: object
        "400":
          description: Invalid parameters
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Unauthorized
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "404":
          description: Prompt not found
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - APIKeyAuth: []
      summary: Get prompt by name
      tags:
      - SDK Prompts
  /v1/scores:
    post:
      consumes:
      - application/json
      description: Creates a score for a trace/span. If a ScoreConfig exists for the
        score name, validates against it.
      parameters:
      - description: Score creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.CreateScoreRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.ScoreResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Create score
      tags:
      - SDK - Scores
  /v1/scores/batch:
    post:
      consumes:
      - application/json
      description: Creates multiple scores in a single request. If ScoreConfigs exist,
        validates against them.
      parameters:
      - description: Batch score creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/evaluation.BatchScoreRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/evaluation.BatchScoreResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Batch create scores
      tags:
      - SDK - Scores
  /v1/traces:
    post:
      consumes:
      - application/json
      - application/x-protobuf
      description: Accepts OpenTelemetry Protocol (OTLP) traces in JSON or Protobuf
        format
      parameters:
      - description: OTLP trace export request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/observability.OTLPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Traces accepted
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid OTLP request
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "401":
          description: Invalid or missing API key
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
        "500":
          description: Internal server error
          schema:
            allOf:
            - $ref: '#/definitions/response.APIResponse'
            - properties:
                error:
                  $ref: '#/definitions/response.APIError'
              type: object
      security:
      - ApiKeyAuth: []
      summary: OTLP trace ingestion endpoint (OpenTelemetry spec compliant)
      tags:
      - SDK - OTLP
  /ws:
    get:
      consumes:
      - application/json
      description: Upgrade HTTP connection to WebSocket for real-time updates and
        notifications
      produces:
      - application/json
      responses:
        "101":
          description: WebSocket connection established
          schema:
            type: string
        "400":
          description: Bad request - WebSocket upgrade failed
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "401":
          description: Unauthorized - authentication required
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/response.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/response.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Establish WebSocket connection
      tags:
      - WebSocket
schemes:
- http
- https
securityDefinitions:
  ApiKeyAuth:
    description: 'API key authentication for AI gateway and SDKs. Format: Authorization:
      Bearer bk_live_... OR X-API-Key: bk_live_... (both supported for flexibility)'
    in: header
    name: Authorization
    type: apiKey
  CSRFToken:
    description: CSRF protection for mutations (POST/PUT/PATCH/DELETE). Value must
      match csrf_token cookie. Required for all non-idempotent operations.
    in: header
    name: X-CSRF-Token
    type: apiKey
    x-extension-openapi: '{"definitions": {"ULID": {"type": "string", "description":
      "ULID (Universally Unique Lexicographically Sortable Identifier)", "example":
      "01ARZ3NDEKTSV4RRFFQ69G5FAV", "pattern": "^[0-9A-Z]{26}$"}}}'
  CookieAuth:
    description: 'Cookie-based JWT authentication. Login/Signup set httpOnly cookies
      (access_token, refresh_token, csrf_token). Browser sends automatically. Testing:
      Use browser DevTools/Postman/cURL (Swagger UI cannot test cookies).'
    in: header
    name: Cookie
    type: apiKey
swagger: "2.0"
